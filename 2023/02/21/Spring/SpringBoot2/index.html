

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Insomniac">
  <meta name="keywords" content="keywords">
  
    <meta name="description" content="day011、项目介绍商业模式：b2c、b2b2c 功能模块：  2、MyBtis-Plus1、引入依赖123456spring:  datasource:    url: jdbc:mysql:&#x2F;&#x2F;localhost:13306&#x2F;userdb?useSSL&#x3D;false    username: root    password: abc123    driver-class-name: com.">
<meta property="og:type" content="article">
<meta property="og:title" content="SpirngBoot2">
<meta property="og:url" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/index.html">
<meta property="og:site_name" content="Insomnia_">
<meta property="og:description" content="day011、项目介绍商业模式：b2c、b2b2c 功能模块：  2、MyBtis-Plus1、引入依赖123456spring:  datasource:    url: jdbc:mysql:&#x2F;&#x2F;localhost:13306&#x2F;userdb?useSSL&#x3D;false    username: root    password: abc123    driver-class-name: com.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-0.png">
<meta property="og:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-1.png">
<meta property="og:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-2.png">
<meta property="og:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-3.png">
<meta property="og:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-4.png">
<meta property="og:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-5.png">
<meta property="article:published_time" content="2023-02-21T15:47:00.000Z">
<meta property="article:modified_time" content="2025-04-17T06:54:51.459Z">
<meta property="article:author" content="Insomniac">
<meta property="article:tag" content="SpringBoot2">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/image-0.png">
  
  
  
  <title>SpirngBoot2 - Insomnia_</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"zytpca.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Insomniac&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="SpirngBoot2"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-02-21 23:47" pubdate>
          2023年2月21日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          18k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          147 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">SpirngBoot2</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="day01"><a href="#day01" class="headerlink" title="day01"></a>day01</h1><h2 id="1、项目介绍"><a href="#1、项目介绍" class="headerlink" title="1、项目介绍"></a>1、项目介绍</h2><p>商业模式：<u>b2c</u>、b2b2c</p>
<p>功能模块：</p>
<p><img src="/2023/02/21/Spring/SpringBoot2/image-0.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="2、MyBtis-Plus"><a href="#2、MyBtis-Plus" class="headerlink" title="2、MyBtis-Plus"></a>2、MyBtis-Plus</h2><h3 id="1、引入依赖"><a href="#1、引入依赖" class="headerlink" title="1、引入依赖"></a>1、引入依赖</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:13306/userdb?useSSL=false</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">abc123</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.jdbc.Driver</span><br></code></pre></td></tr></table></figure>

<ol>
<li><font style="color:#cc7832;">public interface </font>UserMapper<u> </u><u><font style="color:#cc7832;">extends </font></u><u>BaseMapper<User></u></li>
<li><u><font style="color:#bbb529;">@MapperScan</font></u><u>(</u><u><font style="color:#6a8759;">“com.wx.ssm.mapper”</font></u><u>)</u></li>
<li><font style="color:#cc7832;">public interface </font>UserService<u> </u><u><font style="color:#cc7832;">extends </font></u><u>IService<User> </u></li>
<li><font style="color:#cc7832;">public class </font>UserServiceImp<u> </u><u><font style="color:#cc7832;">extends </font></u><u>ServiceImpl&lt;UserMapper</u><u><font style="color:#cc7832;">, </font></u><u>User&gt; </u><font style="color:#cc7832;">implements </font>UserService</li>
</ol>
<h3 id="2、主键策略"><a href="#2、主键策略" class="headerlink" title="2、主键策略"></a>2、<font style="color:rgb(0, 0, 0);">主键策略</font></h3><p><font style="color:rgb(255, 0, 0);">参考资料：分布式系统唯一ID生成方案汇总：</font><a target="_blank" rel="noopener" href="https://www.cnblogs.com/haoxinyue/p/5208136.html">https://www.cnblogs.com/haoxinyue/p/5208136.html</a></p>
<ol>
<li><font style="color:rgb(0, 0, 0);">ID_WORKER</font></li>
</ol>
<p><font style="color:rgb(44, 62, 80);">MyBatis-Plus默认的主键策略是：</font><font style="color:rgb(71, 101, 130);">ID_WORKER  </font><font style="color:rgb(128, 128, 128);">全局唯一ID</font></p>
<p><font style="color:#595959;">自 3.3.0 开始,默认使用雪花算法+UUID(不含中划线)</font></p>
<ol start="2">
<li><font style="color:rgb(0, 0, 0);">自增策略</font></li>
<li>UUID</li>
<li>Redis生成ID</li>
<li>Twitter的snowflake算法</li>
</ol>
<p><font style="color:rgb(75, 75, 75);">snowflake是Twitter开源的分布式ID生成算法，结果是一个long型的ID。其核心思想是：使用41bit作为毫秒数，10bit作为机器的ID（5个bit是数据中心，5个bit的机器ID），12bit作为毫秒内的流水号（意味着每个节点在每毫秒可以产生 4096 个 ID），最后还有一个符号位，永远是0。具体实现的代码可以参看</font><a target="_blank" rel="noopener" href="https://github.com/twitter/snowflake">https://github.com/twitter/snowflake</a><font style="color:rgb(75, 75, 75);">。雪花算法支持的TPS可以达到419万左右（2^22*1000）。</font></p>
<h3 id="3、自动填充功能"><a href="#3、自动填充功能" class="headerlink" title="3、自动填充功能"></a>3、自动填充功能</h3><ol>
<li><font style="color:rgb(0, 64, 80);">注解填充字段 </font>@TableField(.. fill &#x3D; FieldFill.INSERT)</li>
<li><font style="color:rgb(0, 64, 80);">自定义实现类 实现元对象处理器接口：com.baomidou.mybatisplus.core.handlers.</font><u><font style="color:rgb(0, 64, 80);">MetaObjectHandler</font></u></li>
<li><font style="color:rgb(107, 89, 0);">声明</font>@Component<font style="color:rgb(107, 89, 0);">或</font>@Bean<font style="color:rgb(107, 89, 0);">注入</font></li>
</ol>
<h3 id="4、乐观锁"><a href="#4、乐观锁" class="headerlink" title="4、乐观锁"></a>4、乐观锁</h3><ol>
<li><font style="color:rgb(0, 64, 80);">配置插件</font></li>
</ol>
<p><font style="color:rgb(0, 64, 80);">spring xml 方式:</font></p>
<p><font style="color:rgb(0, 64, 80);">spring boot 注解方式:</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Bean</span><br><span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">mybatisPlusInterceptor</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();<br>    interceptor.addInnerInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OptimisticLockerInnerInterceptor</span>());<br>    <span class="hljs-keyword">return</span> interceptor;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li><font style="color:rgb(0, 64, 80);">在实体类的字段上加上</font>@Version<font style="color:rgb(0, 64, 80);">注解</font></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Version</span><br><span class="hljs-keyword">private</span> Integer version;<br></code></pre></td></tr></table></figure>

<h3 id="5、分页插件"><a href="#5、分页插件" class="headerlink" title="5、分页插件"></a>5、分页插件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBatisConfig</span> &#123;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">paginationInterceptor</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">mybatisPlusInterceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();<br>        <span class="hljs-type">PaginationInnerInterceptor</span> <span class="hljs-variable">paginationInnerInterceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInnerInterceptor</span>();<br>        paginationInnerInterceptor.setOverflow(<span class="hljs-literal">true</span>);<br>        paginationInnerInterceptor.setMaxLimit(<span class="hljs-number">500L</span>);<br>        mybatisPlusInterceptor.addInnerInterceptor(paginationInnerInterceptor);<br>        <span class="hljs-keyword">return</span> mybatisPlusInterceptor;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Page<User> page &#x3D; <font style="color:#cc7832;">new </font>Page&lt;&gt;(pn<font style="color:#cc7832;">, </font><font style="color:#6897bb;">3</font>)<font style="color:#cc7832;">;<br></font><font style="color:#9876aa;">userService</font>.page(page<font style="color:#cc7832;">, null</font>)<font style="color:#cc7832;">;</font></p>
<h3 id="6、逻辑删除"><a href="#6、逻辑删除" class="headerlink" title="6、逻辑删除"></a>6、逻辑删除</h3><p><font style="color:rgb(0, 64, 80);">步骤1: 配置</font></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">global-config:</span><br>    <span class="hljs-attr">db-config:</span><br>      <span class="hljs-attr">logic-delete-field:</span> <span class="hljs-string">flag</span> <span class="hljs-comment"># 全局逻辑删除的实体字段名(since 3.3.0, 配置后可以忽略不配置步骤2)</span><br>      <span class="hljs-attr">logic-delete-value:</span> <span class="hljs-number">1</span> <span class="hljs-comment"># 逻辑已删除值(默认为 1)</span><br>      <span class="hljs-attr">logic-not-delete-value:</span> <span class="hljs-number">0</span> <span class="hljs-comment"># 逻辑未删除值(默认为 0)</span><br></code></pre></td></tr></table></figure>

<p>步<font style="color:rgb(0, 64, 80);">骤 2: 实体类字段上加上</font>@TableLogic<font style="color:rgb(0, 64, 80);">注解</font></p>
<h3 id="7、条件构造器"><a href="#7、条件构造器" class="headerlink" title="7、条件构造器"></a>7、条件构造器</h3><h1 id="day02"><a href="#day02" class="headerlink" title="day02"></a>day02</h1><h2 id="1、前后端分离开发概念"><a href="#1、前后端分离开发概念" class="headerlink" title="1、前后端分离开发概念"></a>1、前后端分离开发概念</h2><h2 id="2、讲师管理模块（后端）"><a href="#2、讲师管理模块（后端）" class="headerlink" title="2、讲师管理模块（后端）"></a>2、讲师管理模块（后端）</h2><h3 id="一、讲师管理模块配置"><a href="#一、讲师管理模块配置" class="headerlink" title="一、讲师管理模块配置"></a><font style="color:rgb(0, 0, 0);">一、讲师管理模块配置</font></h3><p><font style="color:rgb(0, 0, 0);">1、在service下面service-edu模块中创建配置文件</font></p>
<p><font style="color:rgb(0, 0, 0);">resources目录下创建文件 application.properties</font>或者在resources目录下创建文件 <font style="background-color:rgb(239, 239, 239);">application.yml</font></p>
<p><font style="color:rgb(0, 0, 0);">2、创建MP代码生成器</font></p>
<h3 id="二、编写后台管理api接口"><a href="#二、编写后台管理api接口" class="headerlink" title="二、编写后台管理api接口"></a><font style="color:rgb(0, 0, 0);">二、编写后台管理api接口</font></h3><p><font style="color:rgb(0, 0, 0);">1、编写controller代码</font></p>
<p><font style="color:rgb(0, 0, 0);">2、创建SpringBoot配置类，配置包扫描</font></p>
<p><font style="color:rgb(0, 0, 0);">3、配置SQL执行性能分析插件</font></p>
<p><font style="color:rgb(0, 0, 0);">4、创建SpringBoot启动类</font></p>
<p><font style="color:rgb(0, 0, 0);">5、运行启动类 </font><a target="_blank" rel="noopener" href="http://localhost:8001/eduservice/teacher/findAll">http://localhost:8001/eduservice/teacher/findAll</a></p>
<p><font style="color:rgb(0, 0, 0);">6、统一返回的json时间格式</font></p>
<h3 id="三、讲师逻辑删除功能"><a href="#三、讲师逻辑删除功能" class="headerlink" title="三、讲师逻辑删除功能"></a><font style="color:rgb(0, 0, 0);">三、讲师逻辑删除功能</font></h3><p><font style="color:rgb(0, 0, 0);">1、字段添加</font><font style="color:#bbb529;">@TableLogic</font></p>
<p><font style="color:rgb(0, 0, 0);">2、配置逻辑删除插件    MyBatisPlusConfig中配置</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 逻辑删除插件</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@Bean</span>  <br><span class="hljs-keyword">public</span> ISqlInjector <span class="hljs-title function_">sqlInjector</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LogicSqlInjector</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">3、EduTeacherController添加删除方法</font></p>
<p><font style="color:rgb(0, 0, 0);">4、使用postman测试删除</font></p>
<h3 id="四、跨域配置"><a href="#四、跨域配置" class="headerlink" title="四、跨域配置"></a><font style="color:rgb(0, 0, 0);">四、跨域配置</font></h3><p><font style="color:rgb(0, 0, 0);">1、什么是跨域</font></p>
<p><font style="color:rgb(0, 0, 0);">浏览器从一个域名的网页去请求另一个域名的资源时，</font><font style="color:rgb(255, 0, 0);">域名、端口、协议任一不同，都是跨域 </font><font style="color:rgb(0, 0, 0);">。前后端分离开发中，需要考虑ajax跨域的问题。</font></p>
<p><font style="color:rgb(0, 0, 0);">这里我们可以从服务端解决这个问题</font></p>
<p><font style="color:rgb(0, 0, 0);">2、配置</font></p>
<p><font style="color:rgb(0, 0, 0);">在Controller类上添加注解</font><font style="color:rgb(85, 85, 85);">@CrossOrigin</font> <font style="color:rgb(170, 85, 0);">&#x2F;&#x2F;跨域</font></p>
<h2 id="3、配置Swagger2生成API接口文档"><a href="#3、配置Swagger2生成API接口文档" class="headerlink" title="3、配置Swagger2生成API接口文档"></a>3、配置Swagger2生成API接口文档</h2><h3 id="一、Swagger2介绍"><a href="#一、Swagger2介绍" class="headerlink" title="一、Swagger2介绍"></a><font style="color:rgb(0, 0, 0);">一、Swagger2介绍</font></h3><h3 id="二、配置Swagger2"><a href="#二、配置Swagger2" class="headerlink" title="二、配置Swagger2"></a><font style="color:rgb(0, 0, 0);">二、配置Swagger2</font></h3><p><font style="color:rgb(0, 0, 0);">1、创建common模块，在guli-parent下创建模块common</font></p>
<p><font style="color:rgb(0, 0, 0);">2、在common中引入相关依赖</font></p>
<p><font style="color:rgb(0, 0, 0);">3、在common下面创建子模块service-base</font></p>
<p><font style="color:rgb(0, 0, 0);">3、在模块service-base中，创建swagger的配置类</font></p>
<p><font style="color:rgb(0, 0, 0);">4、在模块service模块中引入service-base</font></p>
<p><font style="color:rgb(0, 0, 0);">5、在service-edu启动类上添加注解 扫描包，进行测试 </font><a target="_blank" rel="noopener" href="http://localhost:8001/swagger-ui.html#/">http://localhost:8001/swagger-ui.htm</a>l</p>
<p><font style="color:rgb(0, 0, 0);">6、API模型?</font></p>
<p><font style="color:rgb(0, 0, 0);">7、定义接口说明和参数说明</font></p>
<p><font style="color:rgb(0, 0, 0);">定义在类上：@Api</font></p>
<p><font style="color:rgb(0, 0, 0);">定义在方法上：@ApiOperation</font></p>
<p><font style="color:rgb(0, 0, 0);">定义在参数上：@ApiParam</font></p>
<h2 id="4、统一返回结果对象"><a href="#4、统一返回结果对象" class="headerlink" title="4、统一返回结果对象"></a>4、统一返回结果对象</h2><h3 id="一、统一返回数据格式"><a href="#一、统一返回数据格式" class="headerlink" title="一、统一返回数据格式"></a><font style="color:rgb(0, 0, 0);">一、统一返回数据格式</font></h3><h3 id="二、创建统一结果返回类"><a href="#二、创建统一结果返回类" class="headerlink" title="二、创建统一结果返回类"></a><font style="color:rgb(0, 0, 0);">二、创建统一结果返回类</font></h3><p><font style="color:rgb(0, 0, 0);">1、在common模块下创建子模块common-utils</font></p>
<p><font style="color:rgb(0, 0, 0);">2、创建接口定义返回码   </font></p>
<p><font style="color:rgb(0, 0, 0);"> ResultCode.java</font></p>
<p><font style="color:rgb(0, 0, 0);">4、创建结果类   </font></p>
<p><font style="color:rgb(0, 0, 0);">R.java</font></p>
<h3 id="三、统一返回结果使用"><a href="#三、统一返回结果使用" class="headerlink" title="三、统一返回结果使用"></a><font style="color:rgb(0, 0, 0);">三、统一返回结果使用</font></h3><p><font style="color:rgb(0, 0, 0);">1、在service模块中添加依赖</font></p>
<p><font style="color:rgb(0, 0, 0);">2、修改Controller中的返回结果</font></p>
<h2 id="5、分页和条件查询接口开发"><a href="#5、分页和条件查询接口开发" class="headerlink" title="5、分页和条件查询接口开发"></a>5、分页和条件查询接口开发</h2><h3 id="一、分页"><a href="#一、分页" class="headerlink" title="一、分页"></a><font style="color:rgb(0, 0, 0);">一、分页</font></h3><p>1、MyBatisPlusConfig中配置分页插件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 分页插件</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Bean</span><br><span class="hljs-keyword">public</span> PaginationInterceptor <span class="hljs-title function_">paginationInterceptor</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInterceptor</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、分页Controller方法</p>
<p>TeacherAdminController中添加分页方法</p>
<p>3、Swagger中测试</p>
<h3 id="二、条件查询"><a href="#二、条件查询" class="headerlink" title="二、条件查询"></a>二、条件查询</h3><p>根据讲师名称name，讲师头衔level、讲师入驻时间gmt_create（时间段）查询</p>
<p>1、创建查询对象</p>
<p>创建com.wx.edu.query包，创建TeacherQuery.java查询对象</p>
<p>2、service</p>
<p>接口</p>
<p>实现</p>
<p>3、controller</p>
<p>TeacherAdminController中修改 pageList方法：</p>
<p>增加参数TeacherQuery teacherQuery，非必选</p>
<p>4、Swagger中测试</p>
<h2 id="6、新增和修改讲师接口开发"><a href="#6、新增和修改讲师接口开发" class="headerlink" title="6、新增和修改讲师接口开发"></a>6、新增和修改讲师接口开发</h2><h3 id="一、自动填充封装"><a href="#一、自动填充封装" class="headerlink" title="一、自动填充封装"></a><font style="color:rgb(0, 0, 0);">一、自动填充封装</font></h3><p><font style="color:rgb(0, 0, 0);">1、在service-base模块中添加</font></p>
<p><font style="color:rgb(0, 0, 0);">创建包handler，创建自动填充类 MyMetaObjectHandler</font></p>
<p><font style="color:rgb(0, 0, 0);">2、在实体类添加自动填充注解</font><font style="color:#bbb529;">@TableField</font>(fill &#x3D; FieldFill.<em><font style="color:#9876aa;">INSERT</font></em>)</p>
<h3 id="二、controller方法定义"><a href="#二、controller方法定义" class="headerlink" title="二、controller方法定义"></a><font style="color:rgb(0, 0, 0);">二、controller方法定义</font></h3><p><font style="color:rgb(0, 0, 0);">1、新增</font></p>
<p><font style="color:rgb(0, 0, 0);">2、根据id查询</font></p>
<p><font style="color:rgb(0, 0, 0);">3、根据id修改 需要将id传入</font></p>
<h2 id="8、统一异常处理"><a href="#8、统一异常处理" class="headerlink" title="8、统一异常处理"></a>8、统一异常处理</h2><h3 id="一、什么是统一异常处理"><a href="#一、什么是统一异常处理" class="headerlink" title="一、什么是统一异常处理"></a><font style="color:rgb(0, 0, 0);">一、什么是统一异常处理</font></h3><p><font style="color:rgb(0, 0, 0);">1、制造异常</font></p>
<p><font style="color:rgb(0, 0, 0);">2、什么是统一异常处理</font></p>
<p><font style="color:rgb(0, 0, 0);">我们想让异常结果也显示为统一的返回结果对象，并且统一处理系统的异常信息，那么需要统一异常处理</font></p>
<h3 id="二、统一异常处理"><a href="#二、统一异常处理" class="headerlink" title="二、统一异常处理"></a><font style="color:rgb(0, 0, 0);">二、统一异常处理</font></h3><p><font style="color:rgb(0, 0, 0);">1、创建统一异常处理器</font></p>
<p><font style="color:rgb(0, 0, 0);">在service-base中创建统一异常处理类GlobalExceptionHandler.java：</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 统一异常处理类</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@ControllerAdvice</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> &#123;<br>    <br>    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> R <span class="hljs-title function_">error</span><span class="hljs-params">(Exception e)</span>&#123;<br>        e.printStackTrace();<br>        <span class="hljs-keyword">return</span> R.error();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">2、测试</font></p>
<p><font style="color:rgb(0, 0, 0);">返回统一错误结果</font></p>
<h3 id="三、处理特定异常"><a href="#三、处理特定异常" class="headerlink" title="三、处理特定异常"></a><font style="color:rgb(0, 0, 0);">三、处理特定异常</font></h3><p><font style="color:rgb(0, 0, 0);">1、添加异常处理方法</font></p>
<p><font style="color:rgb(0, 0, 0);">GlobalExceptionHandler.java中添加</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@ExceptionHandler(ArithmeticException.class)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> R <span class="hljs-title function_">error</span><span class="hljs-params">(ArithmeticException e)</span>&#123;<br>  e.printStackTrace();<br>  <span class="hljs-keyword">return</span> R.error().message(<span class="hljs-string">&quot;执行了自定义异常&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">2、测试</font></p>
<h3 id="四、自定义异常"><a href="#四、自定义异常" class="headerlink" title="四、自定义异常"></a><font style="color:rgb(0, 0, 0);">四、自定义异常</font></h3><p><font style="color:rgb(0, 0, 0);">1、创建自定义异常类</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EduException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RuntimeException</span> &#123;<br>    <br>     <span class="hljs-meta">@ApiModelProperty(value = &quot;状态码&quot;)</span><br>     <span class="hljs-keyword">private</span> Integer code;<br>     <span class="hljs-keyword">private</span> String msg;<br> <br>&#125;<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">2、业务中需要的位置抛出EduException</font></p>
<p><font style="color:rgb(0, 0, 0);">3、</font><font style="color:rgb(0, 0, 0);">添加异常处理方法</font></p>
<p><font style="color:rgb(0, 0, 0);">GlobalExceptionHandler.java中添加</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@ExceptionHandler(EduException.class)</span><br><span class="hljs-meta">@ResponseBody</span><br><span class="hljs-keyword">public</span> R <span class="hljs-title function_">error</span><span class="hljs-params">(EduException e)</span>&#123;<br>    e.printStackTrace();<br>    <span class="hljs-keyword">return</span> R.error().message(e.getMsg()).code(e.getCode());<br>    <br>&#125;<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">4、测试</font></p>
<h2 id="9、统一日志处理"><a href="#9、统一日志处理" class="headerlink" title="9、统一日志处理"></a>9、统一日志处理</h2><h3 id="一、日志"><a href="#一、日志" class="headerlink" title="一、日志"></a>一、日志</h3><p>1、配置日志级别</p>
<p>日志记录器（Logger）的行为是分等级的。如下表所示：</p>
<p>分为：OFF、FATAL、<strong>ERROR、WARN、INFO、DEBUG</strong>、ALL</p>
<p>默认情况下，spring boot从控制台打印出来的日志级别只有INFO及以上级别，可以配置日志级别</p>
<h1 id="设置日志级别"><a href="#设置日志级别" class="headerlink" title="设置日志级别"></a>设置日志级别</h1><p>logging.level.root&#x3D;WARN</p>
<p>这种方式只能将日志打印在控制台上</p>
<h3 id="二、Logback日志"><a href="#二、Logback日志" class="headerlink" title="二、Logback日志"></a>二、Logback日志</h3><p><font style="color:#595959;">spring boot内部使用Logback作为日志实现的框架。Logback和log4j非常相似，如果你对log4j很熟悉，那对logback很快就会得心应手。</font></p>
<p><font style="color:#595959;">logback相对于log4j的一些优点：</font><a target="_blank" rel="noopener" href="https://blog.csdn.net/caisini_vc/article/details/48551287"><font style="color:#595959;">https://blog.csdn.net/caisini_vc&#x2F;article&#x2F;details&#x2F;48551287</font></a></p>
<p>1、配置logback日志</p>
<p>删除application.properties中的日志配置</p>
<p>安装idea彩色日志插件：grep-console</p>
<p>resources 中创建 logback-spring.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>  <span class="hljs-attr">scan</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">scanPeriod</span>=<span class="hljs-string">&quot;10 seconds&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true --&gt;</span><br>    <span class="hljs-comment">&lt;!-- scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- de<span class="hljs-doctag">bug:</span>当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">contextName</span>&gt;</span>logback<span class="hljs-tag">&lt;/<span class="hljs-name">contextName</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义变量后，可以使“$&#123;&#125;”来使用变量。 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;log.path&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;F:/edu/log&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 彩色日志 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- 配置格式变量：CONSOLE_LOG_PATTERN 彩色日志格式 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- magenta:洋红 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- boldMagenta:粗红--&gt;</span><br>    <span class="hljs-comment">&lt;!-- cyan:青色 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- white:白色 --&gt;</span><br>    <span class="hljs-comment">&lt;!-- magenta:洋红 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;CONSOLE_LOG_PATTERN&quot;</span></span><br><span class="hljs-tag">              <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;%yellow(%date&#123;yyyy-MM-dd HH:mm:ss&#125;) |%highlight(%-5level) |%blue(%thread) |%blue(%file:%line) |%green(%logger) |%cyan(%msg%n)&quot;</span>/&gt;</span><br><br><br>    <span class="hljs-comment">&lt;!--输出到控制台--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;CONSOLE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--此日志appender是为开发使用，只配置最底级别，控制台输出的日志级别是大于或等于此级别的日志信息--&gt;</span><br>        <span class="hljs-comment">&lt;!-- 例如：如果此处配置了INFO级别，则后面其他位置即使配置了DEBUG级别的日志，也不会被输出 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>INFO<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">Pattern</span>&gt;</span>$&#123;CONSOLE_LOG_PATTERN&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">Pattern</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 设置字符集 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br><br>    <span class="hljs-comment">&lt;!--输出到文件--&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 INFO 日志 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;INFO_FILE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$&#123;log.path&#125;/log_info.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 每天日志归档路径以及格式 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/info/log-info-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 此日志文件只记录info级别的 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>INFO<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 WARN 日志 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;WARN_FILE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$&#123;log.path&#125;/log_warn.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 此处设置字符集 --&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/warn/log-warn-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 此日志文件只记录warn级别的 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>warn<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br><br>    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 ERROR 日志 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ERROR_FILE&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$&#123;log.path&#125;/log_error.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 此处设置字符集 --&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$&#123;log.path&#125;/error/log-error-%d&#123;yyyy-MM-dd&#125;.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 此日志文件只记录ERROR级别的 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.filter.LevelFilter&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>ERROR<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        &lt;logger&gt;用来设置某一个包或者具体的某一个类的日志打印级别、以及指定&lt;appender&gt;。</span><br><span class="hljs-comment">        &lt;logger&gt;仅有一个name属性，</span><br><span class="hljs-comment">        一个可选的level和一个可选的addtivity属性。</span><br><span class="hljs-comment">        name:用来指定受此logger约束的某一个包或者具体的某一个类。</span><br><span class="hljs-comment">        level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span><br><span class="hljs-comment">              如果未设置此属性，那么当前logger将会继承上级的级别。</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        使用mybatis的时候，sql语句是debug下才会打印，而这里我们只配置了info，所以想要查看sql语句的话，有以下两种操作：</span><br><span class="hljs-comment">        第一种把&lt;root level=&quot;INFO&quot;&gt;改成&lt;root level=&quot;DEBUG&quot;&gt;这样就会打印sql，不过这样日志那边会出现很多其他消息</span><br><span class="hljs-comment">        第二种就是单独给mapper下目录配置DEBUG模式，代码如下，这样配置sql语句会打印，其他还是正常DEBUG级别：</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-comment">&lt;!--开发环境:打印控制台--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">springProfile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dev&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--可以输出项目中的debug日志，包括mybatis的sql日志--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.wx&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;INFO&quot;</span> /&gt;</span><br><br>        <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">            root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性</span><br><span class="hljs-comment">            level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，默认是DEBUG</span><br><span class="hljs-comment">            可以包含零个或多个appender元素。</span><br><span class="hljs-comment">        --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;INFO&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;CONSOLE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;INFO_FILE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;WARN_FILE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ERROR_FILE&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">springProfile</span>&gt;</span><br><br><br>    <span class="hljs-comment">&lt;!--生产环境:输出到文件--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">springProfile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pro&quot;</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;INFO&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;CONSOLE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;DEBUG_FILE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;INFO_FILE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ERROR_FILE&quot;</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;WARN_FILE&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">springProfile</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>2、将错误日志输出到文件</p>
<p>GlobalExceptionHandler.java 类上添加注解** @Slf4j**</p>
<p>异常输出语句 </p>
<p>log.error(e.getMessage());</p>
<p>3、将日志堆栈信息输出到文件</p>
<p>定义工具类</p>
<p>edu-framework-common下创建util包，创建ExceptionUtil.java工具类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExceptionUtil</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getMessage</span><span class="hljs-params">(Exception e)</span> &#123;<br>        <span class="hljs-type">StringWriter</span> <span class="hljs-variable">sw</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-type">PrintWriter</span> <span class="hljs-variable">pw</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            sw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringWriter</span>();<br>            pw = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrintWriter</span>(sw);<br><br>            <span class="hljs-comment">//将出错的栈信息输出到printWriter中</span><br>            e.printStackTrace(pw);<br>            pw.flush();<br>            sw.flush();<br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">if</span> (sw != <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    sw.close();<br>                &#125; <span class="hljs-keyword">catch</span> (IOException e1) &#123;<br>                    e1.printStackTrace();<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (pw != <span class="hljs-literal">null</span>) &#123;<br>                pw.close();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> sw.toString();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">调用</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">log.error(ExceptionUtil.getMessage(e));<br></code></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">EduException中创建toString方法</font></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;EduException&#123;&quot;</span> +<br>        <span class="hljs-string">&quot;message=&quot;</span> + <span class="hljs-built_in">this</span>.getMessage() +<br>        <span class="hljs-string">&quot;, code=&quot;</span> + code +<br>        <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="day03"><a href="#day03" class="headerlink" title="day03"></a>day03</h1><h2 id="1、前端开发和前端开发工具"><a href="#1、前端开发和前端开发工具" class="headerlink" title="1、前端开发和前端开发工具"></a>1、前端开发和前端开发工具</h2><h3 id="一、前端开发"><a href="#一、前端开发" class="headerlink" title="一、前端开发"></a>一、前端开发</h3><p>前端工程师“Front-End-Developer”源自于美国。大约从2005年开始正式的前端工程师角色被行业所认可，到了2010年，互联网开始全面进入移动时代，前端开发的工作越来越重要。</p>
<p>最初所有的开发工作都是由后端工程师完成的，随着业务越来越繁杂，工作量变大，于是我们将项目中的可视化部分和一部分交互功能的开发工作剥离出来，形成了前端开发。</p>
<p>由于互联网行业的急速发展，导致了在不同的国家，有着截然不同的分工体制。</p>
<p>在日本和一些人口比较稀疏的国家，例如加拿大、澳洲等，流行“Full-Stack Engineer”，也就是我们通常所说的全栈工程师。通俗点说就是一个人除了完成前端开发和后端开发工作以外，有的公司从产品设计到项目开发再到后期运维可能都是同一个人，甚至可能还要负责UI、配动画，也可以是扫地、擦窗、写文档、维修桌椅等等。</p>
<p>而在美国等互联网环境比较发达的国家项目开发的分工协作更为明确，整个项目开发分为前端、中间层和后端三个开发阶段，这三个阶段分别由三个或者更多的人来协同完成。</p>
<p>国内的大部分互联网公司只有前端工程师和后端工程师，中间层的工作有的由前端来完成，有的由后端来完成。</p>
<p>PRD（产品原型-产品经理） - PSD（视觉设计-UI工程师） - HTML&#x2F;CSS&#x2F;JavaScript（PC&#x2F;移动端网页，实现网页端的视觉展示和交互-前端工程师）</p>
<h3 id="二、下载和安装VS-Code"><a href="#二、下载和安装VS-Code" class="headerlink" title="二、下载和安装VS Code"></a><font style="color:rgb(0, 0, 0);">二、下载和安装VS Code</font></h3><p><a target="_blank" rel="noopener" href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p>
<h3 id="三、初始设置"><a href="#三、初始设置" class="headerlink" title="三、初始设置"></a><font style="color:rgb(0, 0, 0);">三、初始设置</font></h3><p>1、中文界面配置</p>
<p>首先安装中文插件：Chinese (Simplified) Language Pack for Visual Studio Code</p>
<p>右下角弹出是否重启vs，点击“yes”</p>
<p>有些机器重启后如果界面没有变化，则 点击 左边栏Manage -&gt; Command Paletet…【Ctrl+Shift+p】</p>
<p>在搜索框中输入“configure display language”，回车</p>
<p>打开locale.json文件，修改文件下的属性 “locale”:”zh-cn” </p>
<p>{</p>
<pre><code class="hljs">// 定义 VS Code 的显示语言。

// 请参阅 [https://go.microsoft.com/fwlink/?LinkId=761051](https://go.microsoft.com/fwlink/?LinkId=761051)，了解支持的语言列表。

&quot;locale&quot;:&quot;zh-cn&quot; // 更改将在重新启动 VS Code 之后生效。
</code></pre>
<p>}</p>
<p>重启vs</p>
<p>2、插件安装</p>
<p>为方便后续开发，建议安装如下插件（红色矩形框标记的插件）</p>
<p><img src="/2023/02/21/Spring/SpringBoot2/image-1.png" srcset="/img/loading.gif" lazyload></p>
<p>3、创建项目</p>
<p>vscode本身没有新建项目的选项，所以要先创建一个空的文件夹，如project_xxxx。</p>
<p>然后打开vscode，再在vscode里面选择 File -&gt; Open Folder 打开文件夹</p>
<p>4、保存工作区</p>
<p>打开文件夹后，选择“文件 -&gt; 将工作区另存为…”，为工作区文件起一个名字，存储在刚才的文件夹下即可</p>
<p>5、新建文件夹和网页</p>
<p>6、预览网页</p>
<p>以文件路径方式打开网页预览</p>
<p>需要安装“open in browser”插件：</p>
<p>文件右键 -&gt; Open In Default Browser</p>
<p>以服务器方式打开网页预览</p>
<p>需要安装“Live Server”插件：</p>
<p>文件右键 -&gt; Open with Live Server</p>
<p>7、设置字体大小</p>
<p>左边栏Manage -&gt; settings -&gt; 搜索 “font” -&gt; Font size</p>
<p>8、开启完整的Emmet语法支持</p>
<p>设置中搜索 Emmet：启用如下选项，必要时重启vs</p>
<p><img src="/2023/02/21/Spring/SpringBoot2/image-2.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="2、ES6入门"><a href="#2、ES6入门" class="headerlink" title="2、ES6入门"></a>2、ES6入门</h2><h3 id="一、ECMAScript-6-简介"><a href="#一、ECMAScript-6-简介" class="headerlink" title="一、ECMAScript 6 简介"></a>一、ECMAScript 6 简介</h3><p>ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。</p>
<p>1、ECMAScript 和 JavaScript 的关系</p>
<p>一个常见的问题是，ECMAScript 和 JavaScript 到底是什么关系？</p>
<p>要讲清楚这个问题，需要回顾历史。1996 年 11 月，JavaScript 的创造者 Netscape 公司，决定将 JavaScript 提交给标准化组织 ECMA，希望这种语言能够成为国际标准。次年，ECMA 发布 262 号标准文件（ECMA-262）的第一版，规定了浏览器脚本语言的标准，并将这种语言称为 ECMAScript，这个版本就是 1.0 版。</p>
<p>因此，ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 Jscript 和 ActionScript）</p>
<p>2、ES6 与 ECMAScript 2015 的关系</p>
<p>ECMAScript 2015（简称 ES2015）这个词，也是经常可以看到的。它与 ES6 是什么关系呢？</p>
<p>2011 年，ECMAScript 5.1 版发布后，就开始制定 6.0 版了。因此，ES6 这个词的原意，就是指 JavaScript 语言的下一个版本。</p>
<p>ES6 的第一个版本，在 2015 年 6 月发布，正式名称是《ECMAScript 2015 标准》（简称 ES2015）。</p>
<p>2016 年 6 月，小幅修订的《ECMAScript 2016 标准》（简称 ES2016）如期发布，这个版本可以看作是 ES6.1 版，因为两者的差异非常小，基本上是同一个标准。根据计划，2017 年 6 月发布 ES2017 标准。</p>
<p>因此，ES6 既是一个历史名词，也是一个泛指，含义是 5.1 版以后的 JavaScript 的下一代标准，涵盖了 ES2015、ES2016、ES2017 等等，而 ES2015 则是正式名称，特指该年发布的正式版本的语言标准。本书中提到 ES6 的地方，一般是指 ES2015 标准，但有时也是泛指“下一代 JavaScript 语言”。</p>
<h3 id="二、基本语法"><a href="#二、基本语法" class="headerlink" title="二、基本语法"></a>二、基本语法</h3><p>ES标准中不包含 DOM 和 BOM的定义，只涵盖基本数据类型、关键字、语句、运算符、内建对象、内建函数等通用语法。</p>
<p>本部分只学习前端开发中ES6的最少必要知识，方便后面项目开发中对代码的理解。</p>
<p>1、let声明变量</p>
<p><font style="color:#D46B08;">    &#x2F;&#x2F; var 声明的变量没有局部作用域</font></p>
<p><font style="color:#D46B08;">    &#x2F;&#x2F; let 声明的变量  有局部作用域</font></p>
<p><font style="color:#D46B08;">    &#x2F;&#x2F; var 可以声明多次</font></p>
<p><font style="color:#D46B08;">    &#x2F;&#x2F; let 只能声明一次</font></p>
<p><font style="color:rgb(0, 0, 0);">2、const声明常量（只读变量）</font></p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 1、声明之后不允许改变</font></p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 2、一但声明必须初始化，否则会报错</font></p>
<p><font style="color:rgb(0, 0, 0);">3、</font><font style="color:rgb(51, 51, 51);">解构赋值</font></p>
<p><font style="color:rgb(51, 51, 51);">解构赋值是对赋值运算符的扩展。</font></p>
<p><font style="color:rgb(51, 51, 51);">他是一种针对数组或者对象进行模式匹配，然后对其中的变量进行赋值。</font></p>
<p><font style="color:rgb(51, 51, 51);">在代码书写上简洁且易读，语义更加清晰明了；也方便了复杂对象中数据字段获取。</font></p>
<p><font style="background-color:rgb(245, 245, 245);">&#x2F;&#x2F;1、数组解构</font></p>
<p><font style="background-color:rgb(245, 245, 245);">&#x2F;&#x2F; 传统</font><font style="background-color:rgb(245, 245, 245);"></font></p>
<p><font style="background-color:rgb(245, 245, 245);">let</font><font style="background-color:rgb(245, 245, 245);"> </font><font style="background-color:rgb(245, 245, 245);">a</font><font style="background-color:rgb(245, 245, 245);"> &#x3D; </font><font style="background-color:rgb(245, 245, 245);">1</font><font style="background-color:rgb(245, 245, 245);">, </font><font style="background-color:rgb(245, 245, 245);">b</font><font style="background-color:rgb(245, 245, 245);"> &#x3D; </font><font style="background-color:rgb(245, 245, 245);">2</font><font style="background-color:rgb(245, 245, 245);">, </font><font style="background-color:rgb(245, 245, 245);">c</font><font style="background-color:rgb(245, 245, 245);"> &#x3D; </font><font style="background-color:rgb(245, 245, 245);">3</font><font style="background-color:rgb(245, 245, 245);"></font></p>
<p><font style="background-color:rgb(245, 245, 245);">console.log(a, b, c)</font><font style="background-color:rgb(245, 245, 245);"></font></p>
<p><font style="color:#D46B08;background-color:rgb(245, 245, 245);">&#x2F;&#x2F; ES6</font></p>
<p><font style="color:#D46B08;background-color:rgb(245, 245, 245);">let</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);"> [</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">x</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">, </font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">y</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">, </font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">z</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">] &#x3D; [</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">1</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">, </font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">2</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">, </font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">3</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);">]</font><font style="color:#D46B08;background-color:rgb(245, 245, 245);"></font></p>
<p><font style="color:#D46B08;background-color:rgb(245, 245, 245);">console.log(x, y, z)</font></p>
<p>&#x2F;&#x2F;2、对象解构</p>
<p><font style="color:#D46B08;">let user &#x3D; {name: ‘Helen’, age: 18}</font></p>
<p>&#x2F;&#x2F; 传统</p>
<p>let name1 &#x3D; user.name</p>
<p>let age1 &#x3D; user.age</p>
<p>console.log(name1, age1)</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; ES6</font></p>
<p><font style="color:#D46B08;">let { name, age } &#x3D;  user</font>&#x2F;&#x2F;注意：结构的变量必须是user中的属性</p>
<p>console.log(name, age)</p>
<p><font style="color:rgb(0, 0, 0);">4、模板字符串</font><font style="color:rgb(0, 0, 0);"></font></p>
<p><font style="color:rgb(51, 51, 51);">模板字符串相当于加强版的字符串，用反引号 </font><font style="color:rgb(51, 51, 51);background-color:rgb(236, 234, 230);">&#96;</font><font style="color:rgb(51, 51, 51);">,除了作为普通字符串，还可以用来定义多行字符串，还可以在字符串中加入变量和表达式。</font><br><font style="color:#D46B08;">&#x2F;&#x2F; 1、多行字符串</font></p>
<p><font style="color:#D46B08;">&#x2F; &#x2F;2、字符串插入变量和表达式。变量名写在 ${} 中，${} 中可以放入 JavaScript 表达式。</font></p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 3、字符串中调用函数</font></p>
<p><font style="color:rgb(0, 0, 0);">5、声明对象简写</font></p>
<p><font style="color:#D46B08;">const age &#x3D; 12</font></p>
<p><font style="color:#D46B08;">const name &#x3D; “Amy”</font></p>
<p>&#x2F;&#x2F; 传统</p>
<p>const person1 &#x3D; {age: age, name: name}</p>
<p>console.log(person1)</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; ES6</font></p>
<p><font style="color:#D46B08;">const person2 &#x3D; {age, name}</font></p>
<p>console.log(person2) &#x2F;&#x2F;{age: 12, name: “Amy”}</p>
<p><font style="color:rgb(0, 0, 0);">6、定义方法简写</font></p>
<p>&#x2F;&#x2F; 传统</p>
<p>const person1 &#x3D; {</p>
<pre><code class="hljs">sayHi:function()&#123;

    console.log(&quot;Hi&quot;)

&#125;
</code></pre>
<p>}</p>
<p>person1.sayHi();&#x2F;&#x2F;“Hi”</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; ES6</font></p>
<p><font style="color:#D46B08;">const person2 &#x3D; {</font></p>
<p><font style="color:#D46B08;">    sayHi(){</font></p>
<p><font style="color:#D46B08;">        console.log(“Hi”)</font></p>
<p><font style="color:#D46B08;">    }</font></p>
<p><font style="color:#D46B08;">}</font></p>
<p><font style="color:#D46B08;">person2.sayHi()  &#x2F;&#x2F;“Hi”</font></p>
<p><font style="color:rgb(0, 0, 0);">7、对象拓展运算符</font></p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 1、拷贝对象</font></p>
<p>let person1 &#x3D; {name: “Amy”, age: 15}</p>
<p>let someone &#x3D; { …person1 }</p>
<p>console.log(someone)  &#x2F;&#x2F;{name: “Amy”, age: 15}</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 2、合并对象</font></p>
<p>let age &#x3D; {age: 15}</p>
<p>let name &#x3D; {name: “Amy”}</p>
<p>let person2 &#x3D; {…age, …name}</p>
<p>console.log(person2)  &#x2F;&#x2F;{age: 15, name: “Amy”}</p>
<p><font style="color:rgb(0, 0, 0);">8、箭头函数</font></p>
<p><font style="color:rgb(0, 0, 0);">箭头函数提供了一种更加简洁的函数书写方式。基本语法是：</font></p>
<p><font style="color:rgb(102, 102, 0);">参数</font><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(102, 102, 0);">&#x3D;&gt;</font><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(102, 102, 0);">函数体</font></p>
<p>箭头函数多用于匿名函数的定义</p>
<p>&#x2F;&#x2F; 传统</p>
<p>var f1 &#x3D; function(a){</p>
<pre><code class="hljs">return a
</code></pre>
<p>}</p>
<p>console.log(f1(1))</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; ES6</font></p>
<p><font style="color:#D46B08;">var f2 &#x3D; a &#x3D;&gt; a</font></p>
<p>console.log(f2(1))</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 当箭头函数没有参数或者有多个参数，要用 () 括起来。</font></p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 当箭头函数函数体有多行语句，用 {} 包裹起来，表示代码块，</font></p>
<p><font style="color:#D46B08;">&#x2F;&#x2F; 当只有一行语句，并且需要返回结果时，可以省略 {} , 结果会自动返回。</font></p>
<p>var f3 &#x3D; (a,b) &#x3D;&gt; {</p>
<pre><code class="hljs">let result = a+b

return result
</code></pre>
<p>}</p>
<p>console.log(f3(6,2))  &#x2F;&#x2F; 8</p>
<p>&#x2F;&#x2F; 前面代码相当于：</p>
<p><font style="color:#D46B08;">var f4 &#x3D; (a,b) &#x3D;&gt; a+b</font></p>
<h2 id="3、Vue"><a href="#3、Vue" class="headerlink" title="3、Vue"></a>3、Vue</h2><h3 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h3><p>1、Vue.js 是什么</p>
<p>Vue (读音 &#x2F;vjuː&#x2F;，类似于 view) 是一套用于构建用户界面的渐进式框架。</p>
<p>Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p>
<p>官方网站：<a target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org</a></p>
<p>2、初始Vue.js</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- &#123;&#123;&#125;&#125; 插值表达式，绑定vue中的data数据 --&gt;</span><br>    &#123;&#123;message&#125;&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 创建一个vue对象</span></span><br><span class="language-javascript">    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,<span class="hljs-comment">//绑定vue作用的范围</span></span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;<span class="hljs-comment">//定义页面中显示的模型数据</span></span><br><span class="language-javascript">            <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Hello Vue!&#x27;</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>这就是声明式渲染：<font style="color:rgb(52, 73, 94);">Vue.js 的核心是一个允许采用简洁的模板语法来声明式地将数据渲染进 DOM 的系统</font></p>
<p><font style="color:rgb(0, 0, 0);">这里的核心思想就是没有繁琐的DOM操作，例如jQuery中，我们需要先找到div节点，获取到DOM对象，然后进行一系列的节点操作</font></p>
<p>3、<strong>在vs code中创建代码片段：</strong></p>
<p>文件 &#x3D;&gt;  首选项 &#x3D;&gt; 用户代码片段 &#x3D;&gt; 新建全局代码片段&#x2F;或文件夹代码片段：vue-html.code-snippets</p>
<p><font style="color:rgb(255, 0, 0);">注意：制作代码片段的时候，字符串中如果包含文件中复制过来的“Tab”键的空格，要换成“空格键”的空格</font></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;<br>	&quot;vue htm&quot;: &#123;<br>		&quot;scope&quot;: &quot;html&quot;,<br>		&quot;prefix&quot;: &quot;vuehtml&quot;,<br>		&quot;body&quot;: [<br>			&quot;<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>&quot;,<br>			&quot;<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">en</span>\&quot;&gt;</span>&quot;,<br>			&quot;&quot;,<br>			&quot;<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">UTF-8</span>\&quot;&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">viewport</span>\&quot; <span class="hljs-attr">content</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">width</span>=<span class="hljs-string">device-width,</span> <span class="hljs-attr">initial-scale</span>=<span class="hljs-string">1.0\</span>&quot;&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">X-UA-Compatible</span>\&quot; <span class="hljs-attr">content</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">ie</span>=<span class="hljs-string">edge\</span>&quot;&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>&quot;,<br>			&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>&quot;,<br>			&quot;&quot;,<br>			&quot;<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">app</span>\&quot;&gt;</span>&quot;,<br>			&quot;&quot;,<br>			&quot;    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">\</span>&quot;<span class="hljs-attr">vue.min.js</span>\&quot;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>&quot;,<br>			&quot;    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>&quot;,<br>			&quot;        new Vue(&#123;&quot;,<br>			&quot;            el: &#x27;#app&#x27;,&quot;,<br>			&quot;            data: &#123;&quot;,<br>			&quot;                $1&quot;,<br>			&quot;            &#125;&quot;,<br>			&quot;        &#125;)&quot;,<br>			&quot;    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>&quot;,<br>			&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>&quot;,<br>			&quot;&quot;,<br>			&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>&quot;,<br>		],<br>		&quot;description&quot;: &quot;my vue template in html&quot;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="二、基本语法-1"><a href="#二、基本语法-1" class="headerlink" title="二、基本语法"></a>二、基本语法</h3><p>1、基本数据渲染和指令</p>
<p> v-bind 特性被称为指令。指令带有前缀 v-</p>


除了使用插值表达式{{}}进行数据渲染，也可以使用 v-bind指令，它的简写的形式就是一个冒号（:）



<p>2、双向数据绑定</p>
<p>双向数据绑定和单向数据绑定：使用 v-model 进行双向数据绑定</p>
<p>3、事件</p>
<p>使用 v-on 进行事件处理，v-on:click 表示处理鼠标点击事件，事件调用的方法定义在 vue 对象声明的 methods 节点中</p>
<p><font style="color:rgb(170, 85, 0);"><!-- v-on 指令的简写形式 @ --></font></p>
<p>4、修饰符</p>
<p>修饰符 (Modifiers) 是以半角句号（.）指明的特殊后缀，用于指出一个指令应该以特殊方式绑定。</p>
<p>例如，.prevent 修饰符告诉 v-on 指令对于触发的事件调用 event.preventDefault()：</p>
<p>即阻止事件原本的默认行为</p>
<p>5、条件渲染</p>
<p>v-if 、v-show：条件指令</p>
<p><em>v-if 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</em></p>
<p><em>v-if 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</em></p>
<p><em>相比之下，v-show 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</em></p>
<p><em>一般来说，v-if 有更高的切换开销，而 v-show 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件很少改变，则使用 v-if 较好。</em></p>
<p>6、列表渲染</p>
<p>v-for：列表循环指令</p>
<p> <font style="color:rgb(170, 85, 0);"><!-- 如果想获取索引，则使用index关键字，注意，圆括号中的index必须放在后面 --></font></p>
<h2 id="4、Vue"><a href="#4、Vue" class="headerlink" title="4、Vue"></a>4、Vue</h2><h3 id="一、组件（重点）"><a href="#一、组件（重点）" class="headerlink" title="一、组件（重点）"></a>一、组件（重点）</h3><p>组件（Component）是 Vue.js 最强大的功能之一。</p>
<p>组件可以扩展 HTML 元素，封装可重用的代码。</p>
<p>组件系统让我们可以用独立可复用的小组件来构建大型应用，几乎任意类型的应用的界面都可以抽象为一个组件树：</p>
<p><img src="/2023/02/21/Spring/SpringBoot2/image-3.png" srcset="/img/loading.gif" lazyload></p>
<p>1、局部组件</p>
<p>2、全局组件</p>
<h3 id="二、实例生命周期"><a href="#二、实例生命周期" class="headerlink" title="二、实例生命周期"></a>二、实例生命周期</h3><h3 id="三、路由"><a href="#三、路由" class="headerlink" title="三、路由"></a>三、路由</h3><p>Vue.js 路由允许我们通过不同的 URL 访问不同的内容。</p>
<p>通过 Vue.js 可以实现多视图的单页Web应用（single page web application，SPA）。</p>
<p>Vue.js 路由需要载入 vue-router 库</p>
<h3 id="四、axios"><a href="#四、axios" class="headerlink" title="四、axios"></a>四、axios</h3><p>axios是独立于vue的一个项目，基于promise用于浏览器和node.js的http客户端</p>
<p>在浏览器中可以帮助我们完成 ajax请求的发送</p>
<p>在node.js中可以向远程接口发送请求</p>
<p><font style="color:rgb(255, 0, 0);">注意：测试时需要开启后端服务器，并且后端开启跨域访问权限</font></p>
<h3 id="五、element-ui："><a href="#五、element-ui：" class="headerlink" title="五、element-ui："></a>五、element-ui：</h3><p>element-ui 是饿了么前端出品的基于 Vue.js的 后台组件库，方便程序员进行页面快速布局和构建</p>
<p>官网： <a target="_blank" rel="noopener" href="http://element-cn.eleme.io/#/zh-CN">http://element-cn.eleme.io/#/zh-CN</a></p>
<p>关于.sync的扩展阅读</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/d42c508ea9de">https://www.jianshu.com/p/d42c508ea9de</a></p>
<h2 id="5、Node"><a href="#5、Node" class="headerlink" title="5、Node"></a>5、Node</h2><h3 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h3><p>1、什么是Node.js</p>
<p>简单的说 Node.js 就是运行在服务端的 JavaScript。</p>
<p>Node.js是一个事件驱动I&#x2F;O服务端JavaScript环境，基于Google的V8引擎，V8引擎执行Javascript的速度非常快，性能非常好。</p>
<p>2、Node.js有什么用</p>
<p>如果你是一个前端程序员，你不懂得像PHP、Python或Ruby等动态编程语言，然后你想创建自己的服务，那么Node.js是一个非常好的选择。</p>
<p>Node.js 是运行在服务端的 JavaScript，如果你熟悉Javascript，那么你将会很容易的学会Node.js。</p>
<p>当然，如果你是后端程序员，想部署一些高性能的服务，那么学习Node.js也是一个非常好的选择。</p>
<h3 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h3><p>1、下载</p>
<p>官网：<a target="_blank" rel="noopener" href="https://nodejs.org/en/">https://nodejs.org/en/</a></p>
<p>中文网：<a target="_blank" rel="noopener" href="http://nodejs.cn/">http://nodejs.cn/</a></p>
<p>LTS：长期支持版本</p>
<p>Current：最新版</p>
<p>2、安装</p>
<p>3、查看版本</p>
<p>node -v</p>
<h3 id="三、快速入门"><a href="#三、快速入门" class="headerlink" title="三、快速入门"></a>三、快速入门</h3><p>1、创建文件夹nodejs</p>
<p>2、控制台程序</p>
<p>浏览器的内核包括两部分核心：</p>
<p>DOM渲染引擎；</p>
<p>js解析器（js引擎）</p>
<p>js运行在浏览器中的内核中的js引擎内部</p>
<p>Node.js是脱离浏览器环境运行的JavaScript程序，基于V8 引擎（Chrome 的 JavaScript的引擎）</p>
<p>3、服务器端应用开发（了解）</p>
<h1 id="dya04"><a href="#dya04" class="headerlink" title="dya04"></a>dya04</h1><h2 id="06-NPM包管理器"><a href="#06-NPM包管理器" class="headerlink" title="06-NPM包管理器"></a>06-NPM包管理器</h2><h3 id="一、简介-1"><a href="#一、简介-1" class="headerlink" title="一、简介"></a>一、简介</h3><p>1、什么是NPM</p>
<p>NPM全称Node Package Manager，是Node.js包管理工具，是全球最大的模块生态系统，里面所有的模块都是开源免费的；也是Node.js的包管理工具，相当于前端的Maven 。</p>
<p>2、NPM工具的安装位置</p>
<p>我们通过npm 可以很方便地下载js库，管理前端工程。</p>
<p>Node.js默认安装的npm包和工具的位置：Node.js目录\node_modules</p>
<p>在这个目录下你可以看见 npm目录，npm本身就是被NPM包管理器管理的一个工具，说明 Node.js已经集成了npm工具</p>
<h3 id="二、使用npm管理项目"><a href="#二、使用npm管理项目" class="headerlink" title="二、使用npm管理项目"></a>二、使用npm管理项目</h3><p>1、创建文件夹npm</p>
<p>2、项目初始化</p>
<p>#建立一个空文件夹，在命令提示符进入该文件夹  执行命令初始化</p>
<p>npm init</p>
<p>#按照提示输入相关信息，如果是用默认值则直接回车即可。</p>
<p>#name: 项目名称</p>
<p>#version: 项目版本号</p>
<p>#description: 项目描述</p>
<p>#keywords: {Array}关键词，便于用户搜索到我们的项目</p>
<p>#最后会生成package.json文件，这个是包的配置文件，相当于maven的pom.xml</p>
<p>#我们之后也可以根据需要进行修改。</p>
<p><font style="color:#D46B08;">#如果想直接生成 package.json 文件，那么可以使用命令</font></p>
<p><font style="color:#D46B08;">npm init -y</font></p>
<p>2、修改npm镜像</p>
<p>NPM官方的管理的包都是从 <a target="_blank" rel="noopener" href="http://npmjs.com/">http://npmjs.com</a>下载的，但是这个网站在国内速度很慢。</p>
<p>这里推荐使用淘宝 NPM 镜像 <a target="_blank" rel="noopener" href="http://npm.taobao.org/">http://npm.taobao.org/</a> ，淘宝 NPM 镜像是一个完整 npmjs.com 镜像，同步频率目前为 10分钟一次，以保证尽量与官方服务同步。</p>
<p>设置镜像地址：</p>
<p><font style="color:#D46B08;">npm config set registry </font><a target="_blank" rel="noopener" href="https://registry.npm.taobao.org/"><font style="color:#D46B08;">https://registry.npm.taobao.org</font></a><font style="color:#D46B08;"> </font></p>
<p>#查看npm配置信息</p>
<p><font style="color:#D46B08;">npm config list</font></p>
<p>3、npm install命令的使用</p>
<p>4、其它命令</p>
<h2 id="07-Babel"><a href="#07-Babel" class="headerlink" title="07-Babel"></a>07-Babel</h2><h3 id="一、简介-2"><a href="#一、简介-2" class="headerlink" title="一、简介"></a>一、简介</h3><p>Babel是一个广泛使用的转码器，可以将ES6代码转为ES5代码，从而在现有环境执行执行。</p>
<p>这意味着，你可以现在就用 ES6 编写程序，而不用担心现有环境是否支持。</p>
<h3 id="二、安装-1"><a href="#二、安装-1" class="headerlink" title="二、安装"></a>二、安装</h3><p>安装命令行转码工具</p>
<p>Babel提供babel-cli工具，用于命令行转码。它的安装命令如下：</p>
<p>npm install –global babel-cli</p>
<p>#查看是否安装成功</p>
<p>babel –version</p>
<h3 id="三、Babel的使用"><a href="#三、Babel的使用" class="headerlink" title="三、Babel的使用"></a>三、Babel的使用</h3><p>1、初始化项目</p>
<p>npm init -y</p>
<p>2、创建文件</p>
<p>&#x2F;&#x2F; 转码前</p>
<p>&#x2F;&#x2F; 定义数据</p>
<p>let input &#x3D; [1, 2, 3]</p>
<p>&#x2F;&#x2F; 将数组的每个元素 +1</p>
<p>input &#x3D; input.map(item &#x3D;&gt; item + 1)</p>
<p>console.log(input)</p>
<p>3、配置.babelrc</p>
<p>presets字段设定转码规则，将es2015规则加入 .babelrc：</p>
<p>{</p>
<pre><code class="hljs">&quot;presets&quot;: [

    &quot;es2015&quot;

],

&quot;plugins&quot;: []
</code></pre>
<p>}</p>
<p>4、安装转码器</p>
<p>在项目中安装</p>
<p>npm install –save-dev babel-preset-es2015</p>
<p>5、转码</p>
<h1 id="转码结果写入一个文件"><a href="#转码结果写入一个文件" class="headerlink" title="转码结果写入一个文件"></a>转码结果写入一个文件</h1><p>mkdir dist1</p>
<p><font style="color:#D46B08;"># –out-file 或 -o 参数指定输出文件</font></p>
<p>babel src&#x2F;example.js –out-file dist1&#x2F;compiled.js</p>
<h1 id="或者"><a href="#或者" class="headerlink" title="或者"></a>或者</h1><p>babel src&#x2F;example.js -o dist1&#x2F;compiled.js</p>
<h1 id="整个目录转码"><a href="#整个目录转码" class="headerlink" title="整个目录转码"></a>整个目录转码</h1><p>mkdir dist2</p>
<p><font style="color:#D46B08;"># –out-dir 或 -d 参数指定输出目录</font></p>
<p>babel src –out-dir dist2</p>
<h1 id="或者-1"><a href="#或者-1" class="headerlink" title="或者"></a>或者</h1><p>babel src -d dist2</p>
<h2 id="08-模块化"><a href="#08-模块化" class="headerlink" title="08-模块化"></a>08-模块化</h2><h3 id="一、模块化简介"><a href="#一、模块化简介" class="headerlink" title="一、模块化简介"></a>一、模块化简介</h3><p>1、模块化产生的背景</p>
<p>随着网站逐渐变成”互联网应用程序”，嵌入网页的Javascript代码越来越庞大，越来越复杂。</p>
<p>Javascript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。</p>
<p>但是，Javascript不是一种模块化编程语言，它不支持”类”（class），包（package）等概念，更遑论”模块”（module）了。</p>
<p>2、什么是模块化开发</p>
<p>传统非模块化开发有如下的缺点：</p>
<p>命名冲突</p>
<p>文件依赖</p>
<p>模块化规范：</p>
<p>CommonJS模块化规范</p>
<p>ES6模块化规范</p>
<p>二、CommonJS模块规范</p>
<p>每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。</p>
<p>1、创建“module”文件夹</p>
<p>2、导出模块</p>
<p>&#x2F;&#x2F; 导出成员：</p>
<p><font style="color:#D46B08;">module.exports &#x3D; {</font></p>
<pre><code class="hljs">sum: sum,

subtract: subtract,

multiply: multiply,

divide: divide
</code></pre>
<p>}</p>
<p>3、导入模块</p>
<p><font style="color:#D46B08;">&#x2F;&#x2F;引入模块，注意：当前路径必须写 . &#x2F;</font></p>
<p><font style="color:#D46B08;">const m &#x3D; require(‘.&#x2F;四则运算.js’)</font></p>
<p>console.log(m)</p>
<p>const result1 &#x3D; m.sum(1, 2)</p>
<p>const result2 &#x3D; m.subtract(1, 2)</p>
<p>console.log(result1, result2)</p>
<p>4、运行程序</p>
<p><font style="color:#F5222D;">CommonJS使用 exports 和require 来导出、导入模块。</font></p>
<h3 id="三、ES6模块化规范"><a href="#三、ES6模块化规范" class="headerlink" title="三、ES6模块化规范"></a>三、ES6模块化规范</h3><p><font style="color:#F5222D;">ES6使用 export 和 import 来导出、导入模块。</font></p>
<p>1、导出模块</p>
<p>export function getList() {</p>
<p>2、导入模块</p>
<p>import { getList, save } from “.&#x2F;userApi.js”</p>
<p>getList()</p>
<p><font style="color:rgb(255, 0, 0);">注意：这时的程序无法运行的，因为ES6的模块化无法在Node.js中执行，需要用Babel编辑成ES5后再执行。</font></p>
<p>3、运行程序</p>
<h3 id="四、ES6模块化的另一种写法"><a href="#四、ES6模块化的另一种写法" class="headerlink" title="四、ES6模块化的另一种写法"></a>四、ES6模块化的另一种写法</h3><p>1、导出模块</p>
<p>export default {</p>
<pre><code class="hljs">getList() &#123;

    console.log(&#39;获取数据列表2&#39;)

&#125;,

save() &#123;

    console.log(&#39;保存数据2&#39;)

&#125;
</code></pre>
<p>}</p>
<p>2、导入模块</p>
<p>import user from “.&#x2F;userApi2.js”</p>
<p>user.getList()</p>
<p>user.save()</p>
<h2 id="09-Webpack"><a href="#09-Webpack" class="headerlink" title="09-Webpack"></a>09-Webpack</h2><h3 id="一、什么是Webpack"><a href="#一、什么是Webpack" class="headerlink" title="一、什么是Webpack"></a>一、什么是Webpack</h3><p>Webpack 是一个前端资源加载&#x2F;打包工具。它将根据模块的依赖关系进行静态分析，然后将这些模块按照指定的规则生成对应的静态资源。</p>
<p>从图中我们可以看出，Webpack 可以将多种静态资源 js、css、less 转换成一个静态文件，减少了页面的请求。 </p>
<h3 id="二、Webpack安装"><a href="#二、Webpack安装" class="headerlink" title="二、Webpack安装"></a>二、Webpack安装</h3><p>1、全局安装</p>
<p>npm install -g webpack webpack-cli</p>
<p>2、安装后查看版本号</p>
<p>webpack -v</p>
<h3 id="三、初始化项目"><a href="#三、初始化项目" class="headerlink" title="三、初始化项目"></a>三、初始化项目</h3><h3 id="四、JS打包"><a href="#四、JS打包" class="headerlink" title="四、JS打包"></a>四、JS打包</h3><p>1、webpack目录下创建配置文件webpack.config.js</p>
<p>以下配置的意思是：读取当前项目目录下src文件夹中的main.js（入口文件）内容，分析资源依赖，把相关的js文件打包，打包后的文件放入当前目录的dist文件夹下，打包后的js文件名为bundle.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>); <span class="hljs-comment">//Node.js内置模块</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;./src/main.js&#x27;</span>, <span class="hljs-comment">//配置入口文件</span><br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;./dist&#x27;</span>), <span class="hljs-comment">//输出路径，__dirname：当前文件所在路径</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;bundle.js&#x27;</span> <span class="hljs-comment">//输出文件</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、命令行执行编译命令</p>
<p><font style="color:#D46B08;">webpack #有黄色警告</font></p>
<p><font style="color:#D46B08;">webpack –mode&#x3D;development #没有警告</font></p>
<p>#执行后查看bundle.js 里面包含了上面两个js文件的内容并惊醒了代码压缩</p>
<p>也可以配置项目的npm运行命令，修改package.json文件</p>
<p>“scripts”: {</p>
<pre><code class="hljs">//...,

&quot;dev&quot;: &quot;webpack --mode=development&quot;
</code></pre>
<p> }</p>
<p>运行npm命令执行打包</p>
<p>npm run dev</p>
<p>3、webpack目录下创建index.html</p>
<p>引用bundle.js</p>
<p>4、浏览器中查看index.html</p>
<h3 id="五、CSS打包"><a href="#五、CSS打包" class="headerlink" title="五、CSS打包"></a>五、CSS打包</h3><p>1、安装style-loader和 css-loader</p>
<p>Webpack 本身只能处理 JavaScript 模块，如果要处理其他类型的文件，就需要使用 loader 进行转换。</p>
<p>Loader 可以理解为是模块和资源的转换器。</p>
<p>首先我们需要安装相关Loader插件，css-loader 是将 css 装载到 javascript；style-loader 是让 javascript 认识css</p>
<p><font style="color:#D46B08;">npm install –save-dev style-loader css-loader </font></p>
<p>2、修改webpack.config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>); <span class="hljs-comment">//Node.js内置模块</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-comment">//...,</span><br>  <span class="hljs-attr">output</span>: &#123;&#125;,<br>  <span class="hljs-attr">module</span>: &#123;<br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,    <span class="hljs-comment">//打包规则应用到以css结尾的文件上</span><br>        <span class="hljs-attr">use</span>: [<span class="hljs-string">&#x27;style-loader&#x27;</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>]<br>      &#125;<br>    ]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、在src文件夹创建style.css</p>
<p>body{</p>
<pre><code class="hljs">background:pink;
</code></pre>
<p>}</p>
<p>4、修改main.js </p>
<p>在第一行引入style.css</p>
<p>require(‘.&#x2F;style.css’);</p>
<p>5、浏览器中查看index.html</p>
<p>看看背景是不是变成粉色啦？</p>
<h2 id="10-vue-element-admin"><a href="#10-vue-element-admin" class="headerlink" title="10-vue-element-admin"></a>10-vue-element-admin</h2><h3 id="一、vue-element-admin"><a href="#一、vue-element-admin" class="headerlink" title="一、vue-element-admin"></a>一、vue-element-admin</h3><p>1、简介</p>
<p>而vue-element-admin是基于element-ui 的一套后台管理系统集成方案。</p>
<p>功能：<a target="_blank" rel="noopener" href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/#">https://panjiachen.github.io/vue-element-admin-site/zh/guide/#</a>功能</p>
<p>GitHub地址：<a target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-element-admin">https://github.com/PanJiaChen/vue-element-admin</a></p>
<p>项目在线预览：<a target="_blank" rel="noopener" href="https://panjiachen.gitee.io/vue-element-admin">https://panjiachen.gitee.io/vue-element-admin</a></p>
<p>2、安装</p>
<h1 id="解压压缩包"><a href="#解压压缩包" class="headerlink" title="解压压缩包"></a>解压压缩包</h1><h1 id="进入目录"><a href="#进入目录" class="headerlink" title="进入目录"></a>进入目录</h1><p>cd vue-element-admin-master</p>
<h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><p>npm install</p>
<h1 id="启动。执行后，浏览器自动弹出并访问http-localhost-9527"><a href="#启动。执行后，浏览器自动弹出并访问http-localhost-9527" class="headerlink" title="启动。执行后，浏览器自动弹出并访问http://localhost:9527/"></a>启动。执行后，浏览器自动弹出并访问<a target="_blank" rel="noopener" href="http://localhost:9527/">http://localhost:9527/</a></h1><p>npm run dev</p>
<h3 id="二、vue-admin-template"><a href="#二、vue-admin-template" class="headerlink" title="二、vue-admin-template"></a>二、vue-admin-template</h3><p>1、简介</p>
<p>vueAdmin-template是基于vue-element-admin的一套后台管理系统基础模板（最少精简版），可作为模板进行二次开发。</p>
<p>GitHub地址：<a target="_blank" rel="noopener" href="https://github.com/PanJiaChen/vue-admin-template">https://github.com/PanJiaChen/vue-admin-template</a></p>
<p>建议：你可以在 vue-admin-template 的基础上进行二次开发，把 vue-element-admin当做工具箱，想要什么功能或者组件就去 vue-element-admin 那里复制过来。</p>
<p>2、安装</p>
<h1 id="解压压缩包-1"><a href="#解压压缩包-1" class="headerlink" title="解压压缩包"></a>解压压缩包</h1><h1 id="进入目录-1"><a href="#进入目录-1" class="headerlink" title="进入目录"></a>进入目录</h1><p>cd vue-admin-template-master</p>
<h1 id="安装依赖-1"><a href="#安装依赖-1" class="headerlink" title="安装依赖"></a>安装依赖</h1><p>npm install</p>
<h1 id="启动。执行后，浏览器自动弹出并访问http-localhost-9528"><a href="#启动。执行后，浏览器自动弹出并访问http-localhost-9528" class="headerlink" title="启动。执行后，浏览器自动弹出并访问http://localhost:9528/"></a>启动。执行后，浏览器自动弹出并访问<a target="_blank" rel="noopener" href="http://localhost:9528/">http://localhost:9528/</a></h1><p>npm run dev</p>
<h2 id="11-后台系统前端项目创建"><a href="#11-后台系统前端项目创建" class="headerlink" title="11-后台系统前端项目创建"></a>11-后台系统前端项目创建</h2><h3 id="一、项目的创建和基本配置"><a href="#一、项目的创建和基本配置" class="headerlink" title="一、项目的创建和基本配置"></a>一、项目的创建和基本配置</h3><p>1、创建项目</p>
<p>将vue-admin-template-master重命名为edu-admin</p>
<p>2、修改项目信息</p>
<p>package.json</p>
<p>{</p>
<pre><code class="hljs">&quot;name&quot;: &quot;edu-admin&quot;,

......

&quot;description&quot;: &quot;在线教育后台管理系统&quot;,

&quot;author&quot;: &quot;WxW&lt;1327569315@qq.com&gt;&quot;,

......
</code></pre>
<p>}</p>
<p>3、如果需要修改端口号</p>
<p>config&#x2F;index.js中修改</p>
<p>port: 9528</p>
<p>4、项目的目录结构</p>
<p>├── build &#x2F;&#x2F; 构建脚本</p>
<p>├── config &#x2F;&#x2F; 全局配置 </p>
<p>├── node_modules &#x2F;&#x2F; 项目依赖模块</p>
<p>├── src &#x2F;&#x2F;项目源代码</p>
<p>├── static &#x2F;&#x2F; 静态资源</p>
<p>└── package.jspon &#x2F;&#x2F; 项目信息和依赖配置</p>
<p>src </p>
<p>├── api &#x2F;&#x2F; 各种接口 </p>
<p>├── assets &#x2F;&#x2F; 图片等资源 </p>
<p>├── components &#x2F;&#x2F; 各种公共组件，非公共组件在各自view下维护 </p>
<p>├── icons &#x2F;&#x2F;svg icon </p>
<p>├── router &#x2F;&#x2F; 路由表 </p>
<p>├── store &#x2F;&#x2F; 存储 </p>
<p>├── styles &#x2F;&#x2F; 各种样式 </p>
<p>├── utils &#x2F;&#x2F; 公共工具，非公共工具，在各自view下维护 </p>
<p>├── views &#x2F;&#x2F; 各种layout</p>
<p>├── App.vue &#x2F;&#x2F;<em><strong>项目顶层组件</strong></em> </p>
<p>├── main.js &#x2F;&#x2F;<em><strong>项目入口文件</strong></em></p>
<p>└── permission.js &#x2F;&#x2F;认证入口</p>
<p>5、运行项目</p>
<p>npm run dev</p>
<h3 id="二、登录页修改"><a href="#二、登录页修改" class="headerlink" title="二、登录页修改"></a>二、登录页修改</h3><p>src&#x2F;views&#x2F;login&#x2F;index.vue（登录组件）</p>
<p>4行</p>
<h3 class="title">  在线教育后台管理系统</h3>

<p>28行</p>
<p>&lt;el-button :loading&#x3D;”loading” type&#x3D;”primary” style&#x3D;”width:100%;” @click.native.prevent&#x3D;”handleLogin”&gt;</p>
<pre><code class="hljs">登录
</code></pre>
</el-button>

<h3 id="三、页面零星修改"><a href="#三、页面零星修改" class="headerlink" title="三、页面零星修改"></a>三、页面零星修改</h3><p>1、标题</p>
<p>index.html（项目的html入口）</p>
<p>2、国际化设置</p>
<p>打开 src&#x2F;main.js（项目的js入口），第7行，修改语言为 zh-CN，使用中文语言环境，例如：日期时间组件</p>
<p>import locale from ‘element-ui&#x2F;lib&#x2F;locale&#x2F;lang&#x2F;zh-CN’ &#x2F;&#x2F; lang i18n</p>
<p>3、icon</p>
<p>复制 favicon.ico 到根目录</p>
<p>4、导航栏文字</p>
<p>src&#x2F;views&#x2F;layout&#x2F;components（当前项目的布局组件）</p>
<p>src&#x2F;views&#x2F;layout&#x2F;components&#x2F;Navbar.vue</p>
<p>13行</p>
<el-dropdown-item>

<pre><code class="hljs">首页
</code></pre>
</el-dropdown-item>

<p>17行</p>
<p>&lt;span style&#x3D;”display:block;” @click&#x3D;”logout”&gt;退出</span></p>
<p>5、面包屑文字</p>
<p>src&#x2F;components（可以在很多项目中复用的通用组件）</p>
<p>src&#x2F;components&#x2F;Breadcrumb&#x2F;index.vue</p>
<p>38行</p>
<p>meta: { title: ‘首页’ }</p>
<p>四、Eslint语法规范型检查</p>
<p>1、ESLint简介</p>
<p>JavaScript 是一个动态的弱类型语言，在开发中比较容易出错。因为没有编译程序，为了寻找 JavaScript 代码错误通常需要在执行过程中不断调适。</p>
<p>ESLint 是一个语法规则和代码风格的检查工具，可以用来保证写出语法正确、风格统一的代码。让程序员在编码的过程中发现问题而不是在执行的过程中。</p>
<p>2、语法规则</p>
<p>ESLint 内置了一些规则，也可以在使用过程中自定义规则。</p>
<p>本项目的语法规则包括：两个字符缩进，必须使用单引号，不能使用双引号，语句后不可以写分号，代码段之间必须有一个空行等。</p>
<p>3、确认开启语法检查</p>
<p>打开 config&#x2F;index.js，配置是否开启语法检查</p>
<p>useEslint: true,</p>
<p>可以关闭语法检查，建议开启，养成良好的编程习惯。</p>
<p>4、ESLint插件安装</p>
<p>vs code的ESLint插件，能帮助我们自动整理代码格式 </p>
<h1 id="day05"><a href="#day05" class="headerlink" title="day05"></a>day05</h1><h2 id="1、项目中的路由"><a href="#1、项目中的路由" class="headerlink" title="1、项目中的路由"></a>1、项目中的路由</h2><h3 id="一、后台系统路由实现分析"><a href="#一、后台系统路由实现分析" class="headerlink" title="一、后台系统路由实现分析"></a>一、后台系统路由实现分析</h3><p>1、入口文件中调用路由</p>
<p>src&#x2F;main.js</p>
<p>……</p>
<p>import router from ‘.&#x2F;router’ &#x2F;&#x2F;引入路由模块</p>
<p>……</p>
<p>new Vue({</p>
<p>  el: ‘#app’,</p>
<p>  router, &#x2F;&#x2F;挂载路由</p>
<p>  store,</p>
<p>  render: h &#x3D;&gt; h(App)</p>
<p>})</p>
<p>2、路由模块中定义路由</p>
<p>src&#x2F;router&#x2F;index.js</p>
<p>……</p>
<p>export const constantRouterMap &#x3D; [</p>
<p>  ……</p>
<p>]</p>
<p>export default new Router({</p>
<p>  ……</p>
<p>  routes: constantRouterMap</p>
<p>})  </p>
<h3 id="二、教育学院路由定义"><a href="#二、教育学院路由定义" class="headerlink" title="二、教育学院路由定义"></a>二、教育学院路由定义</h3><p>1、复制icon图标</p>
<p>将vue-element-admin&#x2F;src&#x2F;icons&#x2F;svg 中的图标复制到 edu-admin项目中</p>
<p>2、修改路由</p>
<p>修改 src&#x2F;router&#x2F;index.js 文件，重新定义constantRouterMap</p>
<p>注意：每个路由的name不能相同</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> constantRouterMap = [<br>  &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/login/index&#x27;</span>), <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span> &#125;,<br>  &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/404&#x27;</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/404&#x27;</span>), <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span> &#125;,<br><br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">Layout</span>,<br>    <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/dashboard&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Dashboard&#x27;</span>,<br>    <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">children</span>: [&#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;dashboard&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/dashboard/index&#x27;</span>),<br>      <span class="hljs-attr">meta</span>:&#123;<span class="hljs-attr">title</span>:<span class="hljs-string">&#x27;在线教育后台首页&#x27;</span>,<span class="hljs-attr">icon</span>:<span class="hljs-string">&#x27;dashboard&#x27;</span>&#125;<br>    &#125;]<br>  &#125;,<br>  &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/teacher&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-title class_">Layout</span>,<br>      <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/teacher/table&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;讲师管理&#x27;</span>,<br>      <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;讲师管理&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;example&#x27;</span> &#125;,<br>      <span class="hljs-attr">children</span>: [<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;table&#x27;</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;讲师列表&#x27;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/teacher/list&#x27;</span>),<br>          <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;讲师列表&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;table&#x27;</span> &#125;<br>        &#125;,<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;save&#x27;</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;添加讲师&#x27;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/teacher/save&#x27;</span>),<br>          <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;添加讲师&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;tree&#x27;</span> &#125;<br>        &#125;,<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;edit/:id&#x27;</span>,<br>          <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;修改讲师&#x27;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/teacher/save&#x27;</span>),<br>          <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;修改讲师&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;tree&#x27;</span> &#125;,<br>          <span class="hljs-attr">hidden</span>:<span class="hljs-literal">true</span><br>        &#125;,<br>      ]<br>    &#125;,<br>]<br></code></pre></td></tr></table></figure>

<p>3、创建vue组件</p>
<p>在src&#x2F;views文件夹下创建以下文件夹和文件</p>
<p><img src="/2023/02/21/Spring/SpringBoot2/image-4.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="2、使用nginx配置后台多服务器api"><a href="#2、使用nginx配置后台多服务器api" class="headerlink" title="2、使用nginx配置后台多服务器api"></a>2、使用nginx配置后台多服务器api</h2><h3 id="一、配置nginx反向代理"><a href="#一、配置nginx反向代理" class="headerlink" title="一、配置nginx反向代理"></a>一、配置nginx反向代理</h3><p>1、安装window版的nginx</p>
<p>将nginx-1.12.0.zip解压到开发目录中</p>
<p>2、配置nginx代理</p>
<p>在Nginx中配置对应的微服务服务器地址即可</p>
<p>注意：最好修改默认的 80端口到81</p>
<p>http { </p>
<p>server {</p>
<pre><code class="hljs">    listen       81;

  ...
</code></pre>
<p>}</p>
<p>server {</p>
<pre><code class="hljs">	listen       9001;

	server_name  localhost;

	location ~ /eduservice/ &#123;

		proxy_pass http://localhost:8001;

	&#125;

	location ~ /eduoss/ &#123;

		proxy_pass http://localhost:8002;

	&#125;

&#125;
</code></pre>
<p>3、重启nginx</p>
<p>nginx -s reload</p>
<h3 id="二、配置开发环境"><a href="#二、配置开发环境" class="headerlink" title="二、配置开发环境"></a>二、配置开发环境</h3><p>1、修改config&#x2F;dev.env.js</p>
<p><font style="color:#d4d4d4;background-color:#1e1e1e;">  </font><font style="color:#9cdcfe;background-color:#1e1e1e;">BASE_API:</font><font style="color:#ce9178;background-color:#1e1e1e;">‘“<a target="_blank" rel="noopener" href="http://localhost:9001/">http://localhost:9001</a>“‘</font></p>
<h2 id="3、讲师管理列表组件"><a href="#3、讲师管理列表组件" class="headerlink" title="3、讲师管理列表组件"></a>3、讲师管理列表组件</h2><h3 id="一、分页列表"><a href="#一、分页列表" class="headerlink" title="一、分页列表"></a>一、分页列表</h3><p>1、定义api</p>
<p>创建文件 src&#x2F;api&#x2F;edu&#x2F;teacher.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/request&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <br>    <span class="hljs-comment">//条件查询讲师带分页</span><br>    <span class="hljs-title function_">getTeacherListPage</span>(<span class="hljs-params">current,limit,teacherQuery</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>                <span class="hljs-attr">url</span>: <span class="hljs-string">`/eduservice/teacher/pageTeacherCondition/<span class="hljs-subst">$&#123;current&#125;</span>/<span class="hljs-subst">$&#123;limit&#125;</span>`</span>,<br>                <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>                <span class="hljs-attr">data</span>:teacherQuery<br>              &#125;)<br>    &#125;,<br>    <span class="hljs-comment">//删除讲师</span><br>    <span class="hljs-title function_">deleteTeacherId</span>(<span class="hljs-params">id</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">`/eduservice/teacher/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;delete&#x27;</span><br>        &#125;)<br>    &#125;,<br>     <span class="hljs-comment">//新增讲师</span><br>     <span class="hljs-title function_">addTeacher</span>(<span class="hljs-params">teacher</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">`/eduservice/teacher/addTeacher`</span>,<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>            <span class="hljs-attr">data</span>: teacher<br>        &#125;)<br>    &#125;,<br>    <span class="hljs-comment">//根据id查询讲师</span><br>    <span class="hljs-title function_">getTeacherById</span>(<span class="hljs-params">id</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">`/eduservice/teacher/getTeacherById/<span class="hljs-subst">$&#123;id&#125;</span>`</span>,<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span><br>        &#125;)<br>    &#125;,<br>    <span class="hljs-comment">//修改讲师</span><br>    <span class="hljs-title function_">updateTeacher</span>(<span class="hljs-params">teacher</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">`/eduservice/teacher/updateTeacher`</span>,<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span>,<br>            <span class="hljs-attr">data</span>: teacher<br>        &#125;)<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// export function getList(params) &#123;</span><br><span class="hljs-comment">//   return request(&#123;</span><br><span class="hljs-comment">//     url: &#x27;/table/list&#x27;,</span><br><span class="hljs-comment">//     method: &#x27;get&#x27;,</span><br><span class="hljs-comment">//     params</span><br><span class="hljs-comment">//   &#125;)</span><br><span class="hljs-comment">// &#125;</span><br><br></code></pre></td></tr></table></figure>

<p>2、初始化vue组件</p>
<p>src&#x2F;views&#x2F;edu&#x2F;teacher&#x2F;list.vue</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  &lt;div class=&quot;app-container&quot;&gt;<br>    &lt;!--查询表单--&gt;<br>    &lt;el-form :inline=&quot;true&quot; class=&quot;demo-form-inline&quot;&gt;<br>      &lt;el-form-item&gt;<br>        &lt;el-input v-model=&quot;teacherQuery.name&quot; placeholder=&quot;讲师名&quot; /&gt;<br>      &lt;/el-form-item&gt;<br><br>      &lt;el-form-item&gt;<br>        &lt;el-select<br>          v-model=&quot;teacherQuery.level&quot;<br>          clearable<br>          placeholder=&quot;讲师头衔&quot;<br>        &gt;<br>          &lt;el-option :value=&quot;1&quot; label=&quot;高级讲师&quot; /&gt;<br>          &lt;el-option :value=&quot;2&quot; label=&quot;首席讲师&quot; /&gt;<br>        &lt;/el-select&gt;<br>      &lt;/el-form-item&gt;<br><br>      &lt;el-form-item label=&quot;添加时间&quot;&gt;<br>        &lt;el-date-picker<br>          v-model=&quot;teacherQuery.begin&quot;<br>          type=&quot;datetime&quot;<br>          placeholder=&quot;选择开始时间&quot;<br>          value-format=&quot;yyyy-MM-dd HH:mm:ss&quot;<br>          default-time=&quot;00:00:00&quot;<br>        /&gt;<br>      &lt;/el-form-item&gt;<br>      &lt;el-form-item&gt;<br>        &lt;el-date-picker<br>          v-model=&quot;teacherQuery.end&quot;<br>          type=&quot;datetime&quot;<br>          placeholder=&quot;选择 截止时间&quot;<br>          value-format=&quot;yyyy-MM-dd HH:mm:ss&quot;<br>          default-time=&quot;00:00:00&quot;<br>        /&gt;<br>      &lt;/el-form-item&gt;<br><br>      &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-search&quot; @click=&quot;getList()&quot;<br>        &gt;查询&lt;/el-button<br>      &gt;<br>      &lt;el-button type=&quot;default&quot; @click=&quot;resetData()&quot;&gt;清空&lt;/el-button&gt;<br>    &lt;/el-form&gt;<br><br>    &lt;!-- 表格 --&gt;<br>    &lt;el-table :data=&quot;list&quot; border fit highlight-current-row&gt;<br>      &lt;el-table-column label=&quot;序号&quot; width=&quot;70&quot; align=&quot;center&quot;&gt;<br>        &lt;template slot-scope=&quot;scope&quot;&gt;<br>          &#123;&#123; (page - 1) * limit + scope.$index + 1 &#125;&#125;<br>        &lt;/template&gt;<br>      &lt;/el-table-column&gt;<br><br>      &lt;el-table-column prop=&quot;name&quot; label=&quot;名称&quot; width=&quot;80&quot; /&gt;<br><br>      &lt;el-table-column label=&quot;头衔&quot; width=&quot;80&quot;&gt;<br>        &lt;template slot-scope=&quot;scope&quot;&gt;<br>          &#123;&#123; scope.row.level === 1 ? &quot;高级讲师&quot; : &quot;首席讲师&quot; &#125;&#125;<br>        &lt;/template&gt;<br>      &lt;/el-table-column&gt;<br><br>      &lt;el-table-column prop=&quot;intro&quot; label=&quot;资历&quot; /&gt;<br><br>      &lt;el-table-column prop=&quot;gmtCreate&quot; label=&quot;添加时间&quot; width=&quot;160&quot; /&gt;<br><br>      &lt;el-table-column prop=&quot;sort&quot; label=&quot;排序&quot; width=&quot;60&quot; /&gt;<br><br>      &lt;el-table-column label=&quot;操作&quot; width=&quot;200&quot; align=&quot;center&quot;&gt;<br>        &lt;template slot-scope=&quot;scope&quot;&gt;<br>          &lt;router-link :to=&quot;&#x27;/teacher/edit/&#x27; + scope.row.id&quot;&gt;<br>            &lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; icon=&quot;el-icon-edit&quot;<br>              &gt;修改&lt;/el-button<br>            &gt;<br>          &lt;/router-link&gt;<br>          &lt;el-button<br>            type=&quot;danger&quot;<br>            size=&quot;mini&quot;<br>            icon=&quot;el-icon-delete&quot;<br>            @click=&quot;removeDataById(scope.row.id)&quot;<br>            &gt;删除&lt;/el-button<br>          &gt;<br>        &lt;/template&gt;<br>      &lt;/el-table-column&gt;<br>    &lt;/el-table&gt;<br><br>    &lt;!-- 分页 --&gt;<br>    &lt;el-pagination<br>      :current-page=&quot;page&quot;<br>      :page-size=&quot;limit&quot;<br>      :total=&quot;total&quot;<br>      style=&quot;padding: 30px 0; text-align: center&quot;<br>      layout=&quot;total, prev, pager, next, jumper&quot;<br>      @current-change=&quot;getList&quot;<br>    /&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import teacher from &quot;@/api/edu/teacher&quot;<br><br>export default &#123;<br>  // data:&#123;<br><br>  // &#125;,<br>  data() &#123;<br>    return &#123;<br>      list: [],<br>      page: 1,<br>      limit: 10,<br>      total: 0,<br>      teacherQuery: &#123;&#125;,<br>    &#125;<br>  &#125;,<br>  created() &#123;<br>    this.getList()<br>  &#125;,<br>  methods: &#123;<br>    getList(page = 1) &#123;<br>      this.page = page<br>      teacher<br>        .getTeacherListPage(this.page, this.limit, this.teacherQuery)<br>        .then((response) =&gt; &#123;<br>          this.list = response.data.rows<br>          this.total = response.data.total<br>        &#125;)<br>    &#125;,<br>    resetData() &#123;<br>      this.teacherQuery = &#123;&#125;<br>      this.getList()<br>    &#125;,<br>    removeDataById(id) &#123;<br>      this.$confirm(&quot;此操作将永久删除该讲师数据, 是否继续?&quot;, &quot;提示&quot;, &#123;<br>        confirmButtonText: &quot;确定&quot;,<br>        cancelButtonText: &quot;取消&quot;,<br>        type: &quot;warning&quot;,<br>      &#125;)<br>        .then(() =&gt; &#123;<br>          teacher.deleteTeacherId(id)<br>          .then((response) =&gt; &#123;<br>            this.$message(&#123;<br>              type: &quot;success&quot;,<br>              message: &quot;删除成功!&quot;,<br>            &#125;)<br>            this.getList()<br>          &#125;)<br>        &#125;)<br>    &#125;,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br><br></code></pre></td></tr></table></figure>

<p>3、定义data</p>
<p>4、定义methods</p>
<p>5、表格渲染</p>
<p>6、分页组件</p>
<p>7、顶部查询表单</p>
<p><strong><font style="color:rgb(255, 0, 0);">注意：</font></strong></p>
<p><font style="color:rgb(0, 0, 0);">element-ui的 date-picker组件默认绑定的时间值是默认世界标准时间，和中国时间差8小时</font></p>
<p><font style="color:rgb(255, 0, 0);">设置 value-format&#x3D;”yyyy-MM-dd HH:mm:ss” 改变绑定的值</font></p>
<h3 id="二、删除"><a href="#二、删除" class="headerlink" title="二、删除"></a>二、删除</h3><p>1、定义api</p>
<p>src&#x2F;api&#x2F;edu&#x2F;teacher.js</p>
<p>2、定义methods</p>
<p>src&#x2F;views&#x2F;edu&#x2F;teacher&#x2F;list.vue</p>
<p>使用MessageBox 弹框组件</p>
<h2 id="4、讲师管理表单组件"><a href="#4、讲师管理表单组件" class="headerlink" title="4、讲师管理表单组件"></a>4、讲师管理表单组件</h2><h3 id="一、新增"><a href="#一、新增" class="headerlink" title="一、新增"></a>一、新增</h3><p>1、定义api</p>
<p> src&#x2F;api&#x2F;edu&#x2F;teacher.js</p>
<p>2、初始化组件</p>
<p>src&#x2F;views&#x2F;edu&#x2F;teacher&#x2F;save.vue</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app-container&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> <span class="hljs-attr">label-width</span>=<span class="hljs-string">&quot;120px&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;讲师名称&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;teacher.name&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;讲师排序&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-input-number</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;teacher.sort&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">controls-position</span>=<span class="hljs-string">&quot;right&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">:min</span>=<span class="hljs-string">&quot;0&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;讲师头衔&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;teacher.level&quot;</span> <span class="hljs-attr">clearable</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请选择&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;高级讲师&quot;</span> /&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;首席讲师&quot;</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;讲师资历&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;teacher.career&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;讲师简介&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;teacher.intro&quot;</span> <span class="hljs-attr">:rows</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;textarea&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-comment">&lt;!-- 讲师头像：TODO --&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">:disabled</span>=<span class="hljs-string">&quot;saveBtnDisabled&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;saveOrUpdate&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          &gt;</span>保存&lt;/el-button</span><br><span class="language-xml">        &gt;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> teacherApi <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/api/edu/teacher&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">teacher</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">sort</span>: <span class="hljs-number">0</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">level</span>: <span class="hljs-number">1</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">career</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">intro</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">avatar</span>: <span class="hljs-string">&quot;&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-attr">saveBtnDisabled</span>:<span class="hljs-literal">false</span>  <span class="hljs-comment">// 保存按钮是否禁用</span></span></span><br><span class="language-javascript"><span class="language-xml">    &#125;;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>()</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">watch</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    $route(to,<span class="hljs-keyword">from</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>()</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//判断路径有id值,做修改</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$route</span>.<span class="hljs-property">params</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">$route</span>.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//从路径获取id值</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-keyword">const</span> id = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$route</span>.<span class="hljs-property">params</span>.<span class="hljs-property">id</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//调用根据id查询的方法</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getInfo</span>(id)</span></span><br><span class="language-javascript"><span class="language-xml">      &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">//路径没有id值，做添加</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-comment">//清空表单</span></span></span><br><span class="language-javascript"><span class="language-xml">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">teacher</span> = &#123;&#125;</span></span><br><span class="language-javascript"><span class="language-xml">      &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">saveOrUpdate</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">if</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">teacher</span>.<span class="hljs-property">id</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveTeacher</span>()</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;<span class="hljs-keyword">else</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateTeacher</span>()</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">saveTeacher</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        teacherApi.<span class="hljs-title function_">addTeacher</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">teacher</span>)</span></span><br><span class="language-javascript"><span class="language-xml">          .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span>=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.$message(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;添加成功!&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/teacher/table&#x27;</span>&#125;)</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">getInfo</span>(<span class="hljs-params">id</span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        teacherApi.<span class="hljs-title function_">getTeacherById</span>(id)</span></span><br><span class="language-javascript"><span class="language-xml">          .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span>=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-variable language_">this</span>.<span class="hljs-property">teacher</span> = response.<span class="hljs-property">data</span>.<span class="hljs-property">teacher</span></span></span><br><span class="language-javascript"><span class="language-xml">          &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">updateTeacher</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        teacherApi.<span class="hljs-title function_">updateTeacher</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">teacher</span>)</span></span><br><span class="language-javascript"><span class="language-xml">          .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span>=&gt;</span>&#123;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-variable language_">this</span>.$message(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">              <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;修改成功!&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(&#123;<span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/teacher/table&#x27;</span>&#125;)</span></span><br><span class="language-javascript"><span class="language-xml">          &#125;)</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>3、实现新增功能</p>
<p>引入teacher api模块</p>
<h3 id="二、回显"><a href="#二、回显" class="headerlink" title="二、回显"></a>二、回显</h3><h3 id="三、修改"><a href="#三、修改" class="headerlink" title="三、修改"></a>三、修改</h3><h3 id="四、存在问题"><a href="#四、存在问题" class="headerlink" title="四、存在问题"></a>四、存在问题</h3><p>vue-router导航切换 时，如果两个路由都渲染同个组件，组件会重（chong）用,</p>
<p>组件的生命周期钩子（created）不会再被调用, 使得组件的一些数据无法根据 path的改变得到更新</p>
<p>因此：</p>
<p>1、我们可以在watch中监听路由的变化，当路由变化时，重新调用created中的内容</p>
<p>2、在init方法中我们判断路由的变化，如果是修改路由，则从api获取表单数据，</p>
<pre><code class="hljs">  如果是新增路由，则重新初始化表单数据
</code></pre>
<h2 id="5、后端业务的灵活优化"><a href="#5、后端业务的灵活优化" class="headerlink" title="5、后端业务的灵活优化"></a>5、后端业务的灵活优化</h2><h1 id="day06"><a href="#day06" class="headerlink" title="day06"></a>day06</h1><h2 id="1、阿里云存储OSS"><a href="#1、阿里云存储OSS" class="headerlink" title="1、阿里云存储OSS"></a>1、阿里云存储OSS</h2><h3 id="一、对象存储OSS"><a href="#一、对象存储OSS" class="headerlink" title="一、对象存储OSS"></a>一、对象存储OSS</h3><p>为了解决海量数据存储与弹性扩容，项目中我们采用云存储的解决方案- 阿里云OSS。 </p>
<p>1、开通“对象存储OSS”服务</p>
<p>（1）申请阿里云账号</p>
<p>（2）实名认证</p>
<p>（3）开通“对象存储OSS”服务</p>
<p>（4）进入管理控制台</p>
<p>2、创建Bucket</p>
<p>选择：标准存储、公共读、不开通</p>
<h3 id="二、使用SDK"><a href="#二、使用SDK" class="headerlink" title="二、使用SDK"></a>二、使用SDK</h3><h2 id="2、后端集成OSS"><a href="#2、后端集成OSS" class="headerlink" title="2、后端集成OSS"></a>2、后端集成OSS</h2><h3 id="一、新建云存储微服务"><a href="#一、新建云存储微服务" class="headerlink" title="一、新建云存储微服务"></a>一、新建云存储微服务</h3><p>1、在service模块下创建子模块service-oss</p>
<p>2、pom</p>
<dependencies>

<!--        阿里云oss依赖-->

<pre><code class="hljs">    &lt;dependency&gt;

        &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;

        &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;

    &lt;/dependency&gt;
</code></pre>
<!--        日期工具栏依赖-->

<pre><code class="hljs">    &lt;dependency&gt;

        &lt;groupId&gt;joda-time&lt;/groupId&gt;

        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;

    &lt;/dependency&gt;

&lt;/dependencies&gt;
</code></pre>
<p>3、配置application.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#服务端口</span><br><span class="hljs-attr">server.port</span>=<span class="hljs-string">8002</span><br><span class="hljs-comment">#服务名</span><br><span class="hljs-attr">spring.application.name</span>=<span class="hljs-string">service-oss</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#环境设置：dev、test、prod</span><br><span class="hljs-attr">spring.profiles.active</span>=<span class="hljs-string">dev</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#阿里云 OSS</span><br><span class="hljs-comment">#不同的服务器，地址不同</span><br><span class="hljs-attr">aliyun.oss.file.endpoint</span>=<span class="hljs-string">oss-cn-guangzhou.aliyuncs.com</span><br><span class="hljs-attr">aliyun.oss.file.keyid</span>=<span class="hljs-string">***</span><br><span class="hljs-attr">aliyun.oss.file.keysecret</span>=<span class="hljs-string">***</span><br><span class="hljs-comment">#bucket可以在控制台创建，也可以使用java代码创建</span><br><span class="hljs-attr">aliyun.oss.file.bucketname</span>=<span class="hljs-string">edu-mus1c</span><br></code></pre></td></tr></table></figure>

<p>spring boot 会默认加载org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration这个类，</p>
<p>而DataSourceAutoConfiguration类使用了@Configuration注解向spring注入了dataSource bean，又因为项目（oss模块）中并没有关于dataSource相关的配置信息，所以当spring创建dataSource bean时因缺少相关的信息就会报错。</p>
<p>解决办法：</p>
<p>方法1、在@SpringBootApplication注解上加上exclude，解除自动加载DataSourceAutoConfiguration</p>
<p>@SpringBootApplication(exclude &#x3D; DataSourceAutoConfiguration.class)</p>
<h3 id="二、实现文件上传"><a href="#二、实现文件上传" class="headerlink" title="二、实现文件上传"></a>二、实现文件上传</h3><p>1、从配置文件读取常量</p>
<p>创建常量读取工具类：ConstantPropertiesUtil.java</p>
<p>使用@Value读取application.properties里的配置内容</p>
<p>用spring的 InitializingBean 的 afterPropertiesSet 来初始化配置信息，这个方法将在所有的属性被初始化后调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConstantPropertiesUtils</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InitializingBean</span> &#123;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;aliyun.oss.file.endpoint&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String endpoint;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;aliyun.oss.file.keyid&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String keyId;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;aliyun.oss.file.keysecret&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String keySecret;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;aliyun.oss.file.bucketname&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String bucketName;<br><br>    <span class="hljs-comment">//定义公开静态常量</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String END_POIND;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String ACCESS_KEY_ID;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String ACCESS_KEY_SECRET;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String BUCKET_NAME;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterPropertiesSet</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        END_POIND = endpoint;<br>        ACCESS_KEY_ID = keyId;<br>        ACCESS_KEY_SECRET = keySecret;<br>        BUCKET_NAME = bucketName;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、文件上传</p>
<p>创建Service接口：OssService.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OssServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OssService</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">uploadFileAvatar</span><span class="hljs-params">(MultipartFile multipartFile)</span> &#123;<br>        <span class="hljs-comment">// 工具类获取值</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">endpoint</span> <span class="hljs-operator">=</span> ConstantPropertiesUtils.END_POIND;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">accessKeyId</span> <span class="hljs-operator">=</span> ConstantPropertiesUtils.ACCESS_KEY_ID;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">accessKeySecret</span> <span class="hljs-operator">=</span> ConstantPropertiesUtils.ACCESS_KEY_SECRET;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">bucketName</span> <span class="hljs-operator">=</span> ConstantPropertiesUtils.BUCKET_NAME;<br><br><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// 创建OSSClient实例。</span><br>            <span class="hljs-type">OSS</span> <span class="hljs-variable">ossClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OSSClientBuilder</span>().build(endpoint, accessKeyId, accessKeySecret);<br>            <span class="hljs-comment">//获取上传文件输入流</span><br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span>multipartFile.getInputStream();<br>            <span class="hljs-comment">//获取文件名称</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> multipartFile.getOriginalFilename();<br>            <span class="hljs-type">String</span> <span class="hljs-variable">uuid</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">&quot;-&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>            fileName = uuid+fileName;<br><br>            <span class="hljs-type">String</span> <span class="hljs-variable">datePath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DateTime</span>().toString(<span class="hljs-string">&quot;yyyy/MM/dd&quot;</span>);<br>            fileName = datePath+<span class="hljs-string">&quot;/&quot;</span>+fileName;<br><br>            <span class="hljs-comment">//调用oss方法实现上传</span><br>            <span class="hljs-comment">//第一个参数  Bucket名称</span><br>            <span class="hljs-comment">//第二个参数  上传到oss文件路径和文件名称   aa/bb/1.jpg</span><br>            <span class="hljs-comment">//第三个参数  上传文件输入流</span><br>            ossClient.putObject(bucketName,fileName,inputStream);<br>            <span class="hljs-comment">// 关闭OSSClient。</span><br>            ossClient.shutdown();<br><br>            <span class="hljs-comment">//https://edu-mus1c.oss-cn-guangzhou.aliyuncs.com/1.png</span><br>            String url=<span class="hljs-string">&quot;https://&quot;</span>+bucketName+<span class="hljs-string">&quot;.&quot;</span>+endpoint+<span class="hljs-string">&quot;/&quot;</span>+fileName;;<br>            <span class="hljs-keyword">return</span> url;<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、控制层</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/eduoss/fileoss&quot;)</span><br><span class="hljs-meta">@CrossOrigin</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OssController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> OssService ossService;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;头像上传&quot;)</span><br>    <span class="hljs-meta">@PostMapping</span><br>    <span class="hljs-keyword">public</span> R <span class="hljs-title function_">uploadOssFile</span><span class="hljs-params">(MultipartFile file)</span>&#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> ossService.uploadFileAvatar(file);<br>        <span class="hljs-keyword">return</span> R.ok().data(<span class="hljs-string">&quot;url&quot;</span>,url);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>4、重启oss服务</p>
<p>5、Swagger中测试文件上传</p>
<p>6、配置nginx反向代理</p>
<p>将接口地址加入nginx配置</p>
<p>location ~ &#x2F;eduoss&#x2F; {</p>
<pre><code class="hljs">		proxy_pass http://localhost:8002;
</code></pre>
<p>}</p>
<h2 id="3、前端整合上传组件"><a href="#3、前端整合上传组件" class="headerlink" title="3、前端整合上传组件"></a>3、前端整合上传组件</h2><h3 id="一、前端整合图片上传组件"><a href="#一、前端整合图片上传组件" class="headerlink" title="一、前端整合图片上传组件"></a>一、前端整合图片上传组件</h3><p>1、复制头像上传组件</p>
<p>从vue-element-admin复制组件：</p>
<p>vue-element-admin&#x2F;src&#x2F;components&#x2F;ImageCropper</p>
<p>vue-element-admin&#x2F;src&#x2F;components&#x2F;PanThumb</p>
<p>2、前端添加文件上传组件</p>
<p>src&#x2F;views&#x2F;edu&#x2F;teacher&#x2F;save.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- 讲师头像 --&gt;<br>     &lt;el-form-item label=&quot;讲师头像&quot;&gt;<br><br>         &lt;!-- 头衔缩略图 --&gt;<br>         &lt;pan-thumb :image=&quot;teacher.avatar&quot;/&gt;<br>         &lt;!-- 文件上传按钮 --&gt;<br>         &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-upload&quot; @click=&quot;imagecropperShow=true&quot;&gt;更换头像<br>         &lt;/el-button&gt;<br><br>         &lt;!--<br>     v-show：是否显示上传组件<br>     :key：类似于id，如果一个页面多个图片上传控件，可以做区分<br>     :url：后台上传的url地址<br>     @close：关闭上传组件<br>     @crop-upload-success：上传成功后的回调 <br>       &lt;input type=&quot;file&quot; name=&quot;file&quot;/&gt;<br>     --&gt;<br>         &lt;image-cropper<br>                       v-show=&quot;imagecropperShow&quot;<br>                       :width=&quot;300&quot;<br>                       :height=&quot;300&quot;<br>                       :key=&quot;imagecropperKey&quot;<br>                       :url=&quot;BASE_API+&#x27;/eduoss/fileoss&#x27;&quot;<br>                       field=&quot;file&quot;<br>                       @close=&quot;close&quot;<br>                       @crop-upload-success=&quot;cropSuccess&quot;/&gt;<br>     &lt;/el-form-item&gt;<br></code></pre></td></tr></table></figure>

<p>3、引入组件模块</p>
<p>import ImageCropper from ‘@&#x2F;components&#x2F;ImageCropper’</p>
<p>import PanThumb from ‘@&#x2F;components&#x2F;PanThumb’</p>
<p>4、声明组件</p>
<p>export default {</p>
<p>  components: {ImageCropper,PanThumb},</p>
<p>5、js脚本实现上传和图片回显</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">data() &#123;<br>  return &#123;<br>    ...<br>    imagecropperShow:false, //上传弹框组件是否显示<br>    imagecropperKey:0,<br>    BASE_API:process.env.BASE_API,<br>    saveBtnDisabled:false  // 保存按钮是否禁用<br>  &#125;;<br>  ...<br>  methods: &#123;<br>    close()&#123;<br>      this.imagecropperShow=false <br>      // 上传成功后，重新打开上传组件时初始化组件，否则显示上一次的上传结果<br>      this.imagecropperKey = this.imagecropperKey+1<br>    &#125;,<br>      cropSuccess(data)&#123;<br>        this.imagecropperShow=false<br>        //上传之后接口返回图片地址<br>        this.teacher.avatar = data.url<br>        // 上传成功后，重新打开上传组件时初始化组件，否则显示上一次的上传结果<br>        this.imagecropperKey = this.imagecropperKey+1<br>      &#125;,<br>...<br></code></pre></td></tr></table></figure>





<h2 id="1、EasyExcel读写Excel的基本使用"><a href="#1、EasyExcel读写Excel的基本使用" class="headerlink" title="1、EasyExcel读写Excel的基本使用"></a>1、EasyExcel读写Excel的基本使用</h2><h3 id="一、Excel导入导出的应用场景"><a href="#一、Excel导入导出的应用场景" class="headerlink" title="一、Excel导入导出的应用场景"></a>一、Excel导入导出的应用场景</h3><p>1、数据导入：减轻录入工作量</p>
<p>2、数据导出：统计信息归档</p>
<p>3、数据传输：异构系统之间数据传输</p>
<h3 id="二、EasyExcel简介"><a href="#二、EasyExcel简介" class="headerlink" title="二、EasyExcel简介"></a>二、EasyExcel简介</h3><p>1、EasyExcel特点</p>
<p>Java领域解析、生成Excel比较有名的框架有Apache poi、jxl等。但他们都存在一个严重的问题就是非常的耗内存。如果你的系统并发量不大的话可能还行，但是一旦并发上来后一定会OOM或者JVM频繁的full gc。</p>
<p>EasyExcel是阿里巴巴开源的一个excel处理框架，以使用简单、节省内存著称。EasyExcel能大大减少占用内存的主要原因是在解析Excel时没有将文件数据一次性全部加载到内存中，而是从磁盘上一行行读取数据，逐个解析。</p>
<p>EasyExcel采用一行一行的解析模式，并将一行的解析结果以观察者的模式通知处理（AnalysisEventListener）。</p>
<h2 id="2、Excel写"><a href="#2、Excel写" class="headerlink" title="2、Excel写"></a>2、Excel写</h2><h3 id="一、创建项目，实现EasyExcel对Excel写操作"><a href="#一、创建项目，实现EasyExcel对Excel写操作" class="headerlink" title="一、创建项目，实现EasyExcel对Excel写操作"></a>一、创建项目，实现EasyExcel对Excel写操作</h3><p>1、创建一个普通的maven项目</p>
<p>项目名：excel-easydemo</p>
<p>2、pom中引入xml相关依赖</p>
<dependencies>

<pre><code class="hljs">&lt;dependency&gt;

    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;

    &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;

    &lt;version&gt;2.1.1&lt;/version&gt;

&lt;/dependency&gt;
</code></pre>
</dependencies>

<p>3、创建实体类</p>
<p>设置表头和添加的数据字段</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoData</span> &#123;<br>    <span class="hljs-comment">//设置excel表头名称</span><br>    <span class="hljs-meta">@ExcelProperty(value = &quot;学生编号&quot;,index = 0)</span><br>    <span class="hljs-keyword">private</span> Integer sno;<br>    <span class="hljs-meta">@ExcelProperty(value = &quot;学生姓名&quot;,index = 1)</span><br>    <span class="hljs-keyword">private</span> String sname;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>4 、实现写操作</p>
<p>（1）创建方法循环设置要添加到Excel的数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//创建方法返回list集合</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;DemoData&gt; <span class="hljs-title function_">getData</span><span class="hljs-params">()</span> &#123;<br>    List&lt;DemoData&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        <span class="hljs-type">DemoData</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DemoData</span>();<br>        data.setSno(i);<br>        data.setSname(<span class="hljs-string">&quot;lucy&quot;</span>+i);<br>        list.add(data);<br>    &#125;<br>    <span class="hljs-keyword">return</span> list;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>（2）实现最终的添加操作（写法一）</p>
<p><font style="color:#808080;">&#x2F;&#x2F;实现excel写的操作<br></font><font style="color:#808080;">        &#x2F;&#x2F;1 设置写入文件夹地址和excel文件名称<br></font><font style="color:#808080;">&#x2F;&#x2F;        String filename &#x3D; “F:\write.xlsx”;<br></font><font style="color:#808080;">        &#x2F;&#x2F;2 调用easyexcel里面的方法实现写操作<br></font><font style="color:#808080;">        &#x2F;&#x2F;write方法两个参数：第一个参数文件路径名称，第二个参数实体类class<br></font><font style="color:#808080;">&#x2F;&#x2F;        EasyExcel.write(filename,DemoData.class).sheet(“学生列表”).doWrite(getData());</font></p>
<h2 id="3、Excel读"><a href="#3、Excel读" class="headerlink" title="3、Excel读"></a>3、Excel读</h2><h3 id="一、实现EasyExcel对Excel读操作"><a href="#一、实现EasyExcel对Excel读操作" class="headerlink" title="一、实现EasyExcel对Excel读操作"></a>一、实现EasyExcel对Excel读操作</h3><p>1、创建实体类</p>
<p>2、创建读取操作的监听器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExcelListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AnalysisEventListener</span>&lt;DemoData&gt; &#123;<br>    <span class="hljs-comment">//一行一行读取excel内容</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invoke</span><span class="hljs-params">(DemoData data, AnalysisContext analysisContext)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;****&quot;</span>+data);<br>    &#125;<br>    <span class="hljs-comment">//读取表头内容</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invokeHeadMap</span><span class="hljs-params">(Map&lt;Integer, String&gt; headMap, AnalysisContext context)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;表头：&quot;</span>+headMap);<br>    &#125;<br>    <span class="hljs-comment">//读取完成之后</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doAfterAllAnalysed</span><span class="hljs-params">(AnalysisContext analysisContext)</span> &#123; &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、调用实现最终的读取</p>
<pre><code class="hljs">    &lt;font style=&quot;color:#808080;&quot;&gt;//实现excel读操作  
</code></pre>
<p></font><font style="color:#808080;">&#x2F;&#x2F;        String filename &#x3D; “F:\write.xlsx”;<br></font><font style="color:#808080;">&#x2F;&#x2F;        EasyExcel.read(filename,DemoData.class,new ExcelListener()).sheet().doRead();</font></p>
<h2 id="4、前端页面的实现"><a href="#4、前端页面的实现" class="headerlink" title="4、前端页面的实现"></a>4、前端页面的实现</h2><h3 id="一、Excel模板"><a href="#一、Excel模板" class="headerlink" title="一、Excel模板"></a>一、Excel模板</h3><p>1、编辑Excel模板</p>
<p>2、将文件上传至阿里云OSS</p>
<h3 id="二、配置路由"><a href="#二、配置路由" class="headerlink" title="二、配置路由"></a>二、配置路由</h3><p>1、添加路由</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>   <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/subject&#x27;</span>,<br>   <span class="hljs-attr">component</span>: <span class="hljs-title class_">Layout</span>,<br>   <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/subject/list&#x27;</span>,<br>   <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;课程分类管理&#x27;</span>,<br>   <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;课程分类管理&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;example&#x27;</span> &#125;,<br>   <span class="hljs-attr">children</span>: [<br>     &#123;<br>       <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;list&#x27;</span>,<br>       <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;课程分类列表&#x27;</span>,<br>       <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/object/list&#x27;</span>),<br>       <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;课程分类列表&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;table&#x27;</span> &#125;<br>     &#125;,<br>     &#123;<br>       <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;save&#x27;</span>,<br>       <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;添加课程分类&#x27;</span>,<br>       <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/object/save&#x27;</span>),<br>       <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;添加课程分类&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;tree&#x27;</span> &#125;<br>     &#125;<br>   ]<br> &#125;,<br></code></pre></td></tr></table></figure>

<p>2、添加vue组件</p>
<h3 id="三、表单组件save-vue"><a href="#三、表单组件save-vue" class="headerlink" title="三、表单组件save.vue"></a>三、表单组件save.vue</h3><p>1、js定义数据</p>
<p>2、template</p>
<p>3、js上传方法</p>
<p>4、回调函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;app-container&quot;&gt;<br>    &lt;el-form label-width=&quot;120px&quot;&gt;<br>      &lt;el-form-item label=&quot;信息描述&quot;&gt;<br>        &lt;el-tag type=&quot;info&quot;&gt;excel模版说明&lt;/el-tag&gt;<br>        &lt;el-tag&gt;<br>          &lt;i class=&quot;el-icon-download&quot; /&gt;<br>          &lt;a :href=&quot;&#x27;/static/01.xlsx&#x27;&quot;&gt;点击下载模版&lt;/a&gt;<br>        &lt;/el-tag&gt;<br>      &lt;/el-form-item&gt;<br><br>      &lt;el-form-item label=&quot;选择Excel&quot;&gt;<br>        &lt;el-upload<br>          ref=&quot;upload&quot;<br>          :auto-upload=&quot;false&quot;<br>          :on-success=&quot;fileUploadSuccess&quot;<br>          :on-error=&quot;fileUploadError&quot;<br>          :disabled=&quot;importBtnDisabled&quot;<br>          :limit=&quot;1&quot;<br>          :action=&quot;BASE_API + &#x27;/eduservice/subject/addSubject&#x27;&quot;<br>          name=&quot;file&quot;<br>          accept=&quot;application/vnd.ms-excel&quot;<br>        &gt;<br>          &lt;el-button slot=&quot;trigger&quot; size=&quot;small&quot; type=&quot;primary&quot;<br>            &gt;选取文件&lt;/el-button<br>          &gt;<br>          &lt;el-button<br>            :loading=&quot;loading&quot;<br>            style=&quot;margin-left: 10px&quot;<br>            size=&quot;small&quot;<br>            type=&quot;success&quot;<br>            @click=&quot;submitUpload&quot;<br>            &gt;上传到服务器&lt;/el-button<br>          &gt;<br>        &lt;/el-upload&gt;<br>      &lt;/el-form-item&gt;<br>    &lt;/el-form&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  data() &#123;<br>    return &#123;<br>      BASE_API: process.env.BASE_API, // 接口API地址<br>      importBtnDisabled: false, // 按钮是否禁用,<br>      loading: false<br>    &#125;;<br>  &#125;,<br>  created() &#123;<br><br>  &#125;,<br>  methods: &#123;<br>    //点击按钮上传文件到接口里面<br>    submitUpload() &#123;<br>      this.importBtnDisabled = true;<br>      this.loading = true;<br>      // js: document.getElementById(&quot;upload&quot;).submit()<br>      this.$refs.upload.submit();<br>    &#125;,<br>    //上传成功<br>    fileUploadSuccess(response) &#123;<br>      //提示信息<br>      this.loading = false;<br>      this.$message(&#123;<br>        type: &quot;success&quot;,<br>        message: &quot;添加课程分类成功&quot;,<br>      &#125;);<br>      //跳转课程分类列表<br>      //路由跳转<br>      this.$router.push(&#123;path: &quot;/subject/list&quot; &#125;);<br>    &#125;,<br>    //上传失败<br>    fileUploadError() &#123;<br>      this.loading = false;<br>      this.$message(&#123;<br>        type: &quot;error&quot;,<br>        message: &quot;添加课程分类失败&quot;,<br>      &#125;);<br>    &#125;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h2 id="5、课程分类管理接口"><a href="#5、课程分类管理接口" class="headerlink" title="5、课程分类管理接口"></a>5、课程分类管理接口</h2><h3 id="一、添加依赖"><a href="#一、添加依赖" class="headerlink" title="一、添加依赖"></a>一、添加依赖</h3><p>1、service-edu模块配置依赖</p>
<p><font style="color:#e8bf6a;"><dependency><br></font><font style="color:#e8bf6a;">    <groupId></font>com.alibaba<font style="color:#e8bf6a;"></groupId><br></font><font style="color:#e8bf6a;">    <artifactId></font>easyexcel<font style="color:#e8bf6a;"></artifactId><br></font><font style="color:#e8bf6a;">    <version></font>2.1.1<font style="color:#e8bf6a;"></version><br></font><font style="color:#e8bf6a;"></dependency></font></p>
<h3 id="二、业务处理"><a href="#二、业务处理" class="headerlink" title="二、业务处理"></a>二、业务处理</h3><p>1、EduSubjectController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/eduservice/subject&quot;)</span><br><span class="hljs-meta">@CrossOrigin</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EduSubjectController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> EduSubjectService eduSubjectService;<br><br>    <span class="hljs-meta">@PostMapping(&quot;/addSubject&quot;)</span><br>    <span class="hljs-keyword">public</span> R <span class="hljs-title function_">addSubject</span><span class="hljs-params">(MultipartFile file)</span>&#123;<br>        eduSubjectService.saveSubject(file,eduSubjectService);<br>        <span class="hljs-keyword">return</span> R.ok();<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/getAllSubject&quot;)</span><br>    <span class="hljs-keyword">public</span> R <span class="hljs-title function_">getAllSubject</span><span class="hljs-params">()</span>&#123;<br>        List&lt;OneSubject&gt; list = eduSubjectService.getAllOneTwoSubject();<br>        <span class="hljs-keyword">return</span> R.ok().data(<span class="hljs-string">&quot;list&quot;</span>,list);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、创建和Excel对应的实体类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SubjectData</span> &#123;<br>    <span class="hljs-meta">@ExcelProperty(index = 0)</span><br>    <span class="hljs-meta">@TableId(type = IdType.ID_WORKER_STR)</span><br>    <span class="hljs-keyword">private</span> String oneSubjectName;<br>    <span class="hljs-meta">@ExcelProperty(index = 1)</span><br>    <span class="hljs-keyword">private</span> String twoSubjectName;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、EduSubjectService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EduSubjectServiceImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ServiceImpl</span>&lt;EduSubjectMapper, EduSubject&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">EduSubjectService</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveSubject</span><span class="hljs-params">(MultipartFile file,EduSubjectService subjectService)</span> &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> file.getInputStream();<br>            EasyExcel.read(inputStream, SubjectData.class,<span class="hljs-keyword">new</span> <span class="hljs-title class_">SubjectExcelListener</span>(subjectService)).sheet().doRead();<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>            e.printStackTrace();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;OneSubject&gt; <span class="hljs-title function_">getAllOneTwoSubject</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">//1 查询所有一级分类  parentid = 0</span><br>        QueryWrapper&lt;EduSubject&gt; wrapperOne = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>        wrapperOne.eq(<span class="hljs-string">&quot;parent_id&quot;</span>,<span class="hljs-string">&quot;0&quot;</span>);<br>        List&lt;EduSubject&gt; oneSubjectList = baseMapper.selectList(wrapperOne);<br><br>        <span class="hljs-comment">//2 查询所有二级分类  parentid != 0</span><br>        QueryWrapper&lt;EduSubject&gt; wrapperTwo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>        wrapperTwo.ne(<span class="hljs-string">&quot;parent_id&quot;</span>,<span class="hljs-string">&quot;0&quot;</span>);<br>        List&lt;EduSubject&gt; twoSubjectList = baseMapper.selectList(wrapperTwo);<br><br>        <span class="hljs-comment">//创建list集合，用于存储最终封装数据</span><br>        List&lt;OneSubject&gt; finalSubjectList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        <span class="hljs-comment">//3 封装一级分类</span><br>        <span class="hljs-comment">//查询出来所有的一级分类list集合遍历，得到每个一级分类对象，获取每个一级分类对象值，</span><br>        <span class="hljs-comment">//封装到要求的list集合里面 List&lt;OneSubject&gt; finalSubjectList</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; oneSubjectList.size(); i++) &#123; <span class="hljs-comment">//遍历oneSubjectList集合</span><br>            <span class="hljs-comment">//得到oneSubjectList每个eduSubject对象</span><br>            <span class="hljs-type">EduSubject</span> <span class="hljs-variable">eduSubject</span> <span class="hljs-operator">=</span> oneSubjectList.get(i);<br>            <span class="hljs-comment">//把eduSubject里面值获取出来，放到OneSubject对象里面</span><br>            <span class="hljs-type">OneSubject</span> <span class="hljs-variable">oneSubject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OneSubject</span>();<br><span class="hljs-comment">//            oneSubject.setId(eduSubject.getId());</span><br><span class="hljs-comment">//            oneSubject.setTitle(eduSubject.getTitle());</span><br>            <span class="hljs-comment">//eduSubject值复制到对应oneSubject对象里面</span><br>            BeanUtils.copyProperties(eduSubject,oneSubject);<br>            <span class="hljs-comment">//多个OneSubject放到finalSubjectList里面</span><br>            finalSubjectList.add(oneSubject);<br><br>            <span class="hljs-comment">//在一级分类循环遍历查询所有的二级分类</span><br>            <span class="hljs-comment">//创建list集合封装每个一级分类的二级分类</span><br>            List&lt;TwoSubject&gt; twoFinalSubjectList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>            <span class="hljs-comment">//遍历二级分类list集合</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; m &lt; twoSubjectList.size(); m++) &#123;<br>                <span class="hljs-comment">//获取每个二级分类</span><br>                <span class="hljs-type">EduSubject</span> <span class="hljs-variable">tSubject</span> <span class="hljs-operator">=</span> twoSubjectList.get(m);<br>                <span class="hljs-comment">//判断二级分类parentid和一级分类id是否一样</span><br>                <span class="hljs-keyword">if</span>(tSubject.getParentId().equals(eduSubject.getId())) &#123;<br>                    <span class="hljs-comment">//把tSubject值复制到TwoSubject里面，放到twoFinalSubjectList里面</span><br>                    <span class="hljs-type">TwoSubject</span> <span class="hljs-variable">twoSubject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TwoSubject</span>();<br>                    BeanUtils.copyProperties(tSubject,twoSubject);<br>                    twoFinalSubjectList.add(twoSubject);<br>                &#125;<br>            &#125;<br>            <span class="hljs-comment">//把一级下面所有二级分类放到一级分类里面</span><br>            oneSubject.setChildren(twoFinalSubjectList);<br>        &#125;<br>        <span class="hljs-keyword">return</span> finalSubjectList;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>4、创建读取Excel监听器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SubjectExcelListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AnalysisEventListener</span>&lt;SubjectData&gt; &#123;<br><br>    <span class="hljs-comment">//因为SubjectExcelListener不能交给spring进行管理，需要自己new，不能注入其他对象</span><br>    <span class="hljs-comment">//不能实现数据库操作</span><br>    <span class="hljs-keyword">public</span> EduSubjectService subjectService;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SubjectExcelListener</span><span class="hljs-params">()</span> &#123;&#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SubjectExcelListener</span><span class="hljs-params">(EduSubjectService subjectService)</span> &#123;<br>        <span class="hljs-built_in">this</span>.subjectService = subjectService;<br>    &#125;<br><br>    <span class="hljs-comment">//读取excel内容，一行一行进行读取</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invoke</span><span class="hljs-params">(SubjectData subjectData, AnalysisContext analysisContext)</span> &#123;<br>        <span class="hljs-keyword">if</span>(subjectData == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EduException</span>(<span class="hljs-number">20001</span>,<span class="hljs-string">&quot;文件数据为空&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//一行一行读取，每次读取有两个值，第一个值一级分类，第二个值二级分类</span><br>        <span class="hljs-comment">//判断一级分类是否重复</span><br>        <span class="hljs-type">EduSubject</span> <span class="hljs-variable">existOneSubject</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.existOneSubject(subjectService, subjectData.getOneSubjectName());<br>        <span class="hljs-keyword">if</span>(existOneSubject == <span class="hljs-literal">null</span>) &#123; <span class="hljs-comment">//没有相同一级分类，进行添加</span><br>            existOneSubject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EduSubject</span>();<br>            existOneSubject.setParentId(<span class="hljs-string">&quot;0&quot;</span>);<br>            existOneSubject.setTitle(subjectData.getOneSubjectName());<span class="hljs-comment">//一级分类名称</span><br>            subjectService.save(existOneSubject);<br>        &#125;<br><br>        <span class="hljs-comment">//获取一级分类id值</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">pid</span> <span class="hljs-operator">=</span> existOneSubject.getId();<br><br>        <span class="hljs-comment">//添加二级分类</span><br>        <span class="hljs-comment">//判断二级分类是否重复</span><br>        <span class="hljs-type">EduSubject</span> <span class="hljs-variable">existTwoSubject</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.existTwoSubject(subjectService, subjectData.getTwoSubjectName(), pid);<br>        <span class="hljs-keyword">if</span>(existTwoSubject == <span class="hljs-literal">null</span>) &#123;<br>            existTwoSubject = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EduSubject</span>();<br>            existTwoSubject.setParentId(pid);<br>            existTwoSubject.setTitle(subjectData.getTwoSubjectName());<span class="hljs-comment">//二级分类名称</span><br>            subjectService.save(existTwoSubject);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//判断一级分类不能重复添加</span><br>    <span class="hljs-keyword">private</span> EduSubject <span class="hljs-title function_">existOneSubject</span><span class="hljs-params">(EduSubjectService subjectService,String name)</span> &#123;<br>        QueryWrapper&lt;EduSubject&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>        wrapper.eq(<span class="hljs-string">&quot;title&quot;</span>,name);<br>        wrapper.eq(<span class="hljs-string">&quot;parent_id&quot;</span>,<span class="hljs-string">&quot;0&quot;</span>);<br>        <span class="hljs-type">EduSubject</span> <span class="hljs-variable">oneSubject</span> <span class="hljs-operator">=</span> subjectService.getOne(wrapper);<br>        <span class="hljs-keyword">return</span> oneSubject;<br>    &#125;<br><br>    <span class="hljs-comment">//判断二级分类不能重复添加</span><br>    <span class="hljs-keyword">private</span> EduSubject <span class="hljs-title function_">existTwoSubject</span><span class="hljs-params">(EduSubjectService subjectService,String name,String pid)</span> &#123;<br>        QueryWrapper&lt;EduSubject&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>        wrapper.eq(<span class="hljs-string">&quot;title&quot;</span>,name);<br>        wrapper.eq(<span class="hljs-string">&quot;parent_id&quot;</span>,pid);<br>        <span class="hljs-type">EduSubject</span> <span class="hljs-variable">twoSubject</span> <span class="hljs-operator">=</span> subjectService.getOne(wrapper);<br>        <span class="hljs-keyword">return</span> twoSubject;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doAfterAllAnalysed</span><span class="hljs-params">(AnalysisContext analysisContext)</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="6、分类列表展示"><a href="#6、分类列表展示" class="headerlink" title="6、分类列表展示"></a>6、分类列表展示</h2><h3 id="一、前端实现"><a href="#一、前端实现" class="headerlink" title="一、前端实现"></a>一、前端实现</h3><p>1、参考 views&#x2F;tree&#x2F;index.vue</p>
<p>2、创建api</p>
<p>api&#x2F;edu&#x2F;subject.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/utils/request&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <br>    <span class="hljs-comment">//条件查询讲师带分页</span><br>    <span class="hljs-title function_">getSubjectList</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">request</span>(&#123;<br>                <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/eduservice/subject/getAllSubject&#x27;</span>,<br>                <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span><br>              &#125;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>3、list.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;app-container&quot;&gt;<br>    &lt;el-input v-model=&quot;filterText&quot; placeholder=&quot;Filter keyword&quot; style=&quot;margin-bottom:30px;&quot; /&gt;<br><br>    &lt;el-tree<br>      ref=&quot;tree2&quot;<br>      :data=&quot;data2&quot;<br>      :props=&quot;defaultProps&quot;<br>      :filter-node-method=&quot;filterNode&quot;<br>      class=&quot;filter-tree&quot;<br>      default-expand-all<br>    /&gt;<br><br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import subject from &#x27;@/api/edu/subject&#x27;<br>export default &#123;<br><br>  data() &#123;<br>    return &#123;<br>      filterText: &#x27;&#x27;,<br>      data2: [],<br>      defaultProps: &#123;<br>        children: &#x27;children&#x27;,<br>        label: &#x27;title&#x27;<br>      &#125;<br>    &#125;<br>  &#125;,<br>  created()&#123;<br>    this.getAllSubjectList()<br>  &#125;,<br>  watch: &#123;<br>    filterText(val) &#123;<br>      this.$refs.tree2.filter(val)<br>    &#125;<br>  &#125;,<br><br>  methods: &#123;<br>    getAllSubjectList()&#123;<br>      subject.getSubjectList()<br>        .then(response=&gt;&#123;<br>            this.data2=response.data.list<br>        &#125;)<br>    &#125;,<br>    filterNode(value, data) &#123;<br>      if (!value) return true<br>      return data.title.toLowerCase().indexOf(value.toLowerCase()) !== -1<br>    &#125;<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br><br></code></pre></td></tr></table></figure>

<h3 id="二、后端实现"><a href="#二、后端实现" class="headerlink" title="二、后端实现"></a>二、后端实现</h3><p>1、创建vo</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//一级分类</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OneSubject</span> &#123;<br>    <span class="hljs-keyword">private</span> String id;<br>    <span class="hljs-keyword">private</span> String title;<br><br>    <span class="hljs-comment">//一个一级分类有多个二级分类</span><br>    <span class="hljs-keyword">private</span> List&lt;TwoSubject&gt; children = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//二级分类</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TwoSubject</span> &#123;<br>    <span class="hljs-keyword">private</span> String id;<br>    <span class="hljs-keyword">private</span> String title;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、创建controller</p>
<p>3、创建service</p>
<h3 id="三、优化前端过滤功能"><a href="#三、优化前端过滤功能" class="headerlink" title="三、优化前端过滤功能"></a>三、优化前端过滤功能</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">methods: &#123;<br>   ...<br>   filterNode(value, data) &#123;<br>     if (!value) return true<br>     return data.title.toLowerCase().indexOf(value.toLowerCase()) !== -1<br>   &#125;<br> &#125;<br></code></pre></td></tr></table></figure>

<h1 id="day07"><a href="#day07" class="headerlink" title="day07"></a>day07</h1><h2 id="1、课程发布表单-步骤导航"><a href="#1、课程发布表单-步骤导航" class="headerlink" title="1、课程发布表单-步骤导航"></a>1、课程发布表单-步骤导航</h2><h3 id="一、需求"><a href="#一、需求" class="headerlink" title="一、需求"></a>一、需求</h3><h3 id="二、配置路由-1"><a href="#二、配置路由-1" class="headerlink" title="二、配置路由"></a>二、配置路由</h3><p>1、添加路由</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>  <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/course&#x27;</span>,<br>  <span class="hljs-attr">component</span>: <span class="hljs-title class_">Layout</span>,<br>  <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/course/list&#x27;</span>,<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;课程管理&#x27;</span>,<br>  <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;课程管理&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;example&#x27;</span> &#125;,<br>  <span class="hljs-attr">children</span>: [<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;list&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;课程列表&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/course/list&#x27;</span>),<br>      <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;课程列表&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;table&#x27;</span> &#125;<br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;save&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;添加课程&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/course/info&#x27;</span>),<br>      <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;添加课程&#x27;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&#x27;tree&#x27;</span> &#125;<br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;info/:id&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;EduCourseInfoEdit&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/course/info&#x27;</span>),<br>      <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;编辑课程基本信息&#x27;</span>, <span class="hljs-attr">noCache</span>: <span class="hljs-literal">true</span> &#125;,<br>      <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;chapter/:id&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;EduCourseChapterEdit&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/course/chapter&#x27;</span>),<br>      <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;编辑课程大纲&#x27;</span>, <span class="hljs-attr">noCache</span>: <span class="hljs-literal">true</span> &#125;,<br>      <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;publish/:id&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;EduCoursePublishEdit&#x27;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/edu/course/publish&#x27;</span>),<br>      <span class="hljs-attr">meta</span>: &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;发布课程&#x27;</span>, <span class="hljs-attr">noCache</span>: <span class="hljs-literal">true</span> &#125;,<br>      <span class="hljs-attr">hidden</span>: <span class="hljs-literal">true</span><br>    &#125;<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、添加vue组件</p>
<p><img src="/2023/02/21/Spring/SpringBoot2/image-5.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="三、整合步骤条组件"><a href="#三、整合步骤条组件" class="headerlink" title="三、整合步骤条组件"></a>三、整合步骤条组件</h3><p>1、课程信息页面</p>
<p><font style="color:rgb(0, 0, 0);">info.vue</font></p>
<p><font style="color:rgb(0, 0, 0);"></font></p>
<p>2、课程大纲页面</p>
<p>chapter.vue</p>
<p>3、课程发布页面</p>
<p>publish.vue</p>
<h2 id="2、编辑课程基本信息"><a href="#2、编辑课程基本信息" class="headerlink" title="2、编辑课程基本信息"></a>2、编辑课程基本信息</h2><h3 id="一、后台api"><a href="#一、后台api" class="headerlink" title="一、后台api"></a>一、后台api</h3><p>1、定义form表单对象</p>
<p>EduCourse.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@EqualsAndHashCode(callSuper = false)</span><br><span class="hljs-meta">@Accessors(chain = true)</span><br><span class="hljs-meta">@ApiModel(value=&quot;EduCourse对象&quot;, description=&quot;课程&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EduCourse</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程ID&quot;)</span><br>    <span class="hljs-meta">@TableId(value = &quot;id&quot;, type = IdType.ID_WORKER_STR)</span><br>    <span class="hljs-keyword">private</span> String id;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程讲师ID&quot;)</span><br>    <span class="hljs-keyword">private</span> String teacherId;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程专业/二级分类id&quot;)</span><br>    <span class="hljs-keyword">private</span> String subjectId;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程专业父级/一级分类ID&quot;)</span><br>    <span class="hljs-keyword">private</span> String subjectParentId;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程标题&quot;)</span><br>    <span class="hljs-keyword">private</span> String title;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程销售价格，设置为0则可免费观看&quot;)</span><br>    <span class="hljs-keyword">private</span> BigDecimal price;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;总课时&quot;)</span><br>    <span class="hljs-keyword">private</span> Integer lessonNum;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程封面图片路径&quot;)</span><br>    <span class="hljs-keyword">private</span> String cover;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;销售数量&quot;)</span><br>    <span class="hljs-keyword">private</span> Long buyCount;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;浏览数量&quot;)</span><br>    <span class="hljs-keyword">private</span> Long viewCount;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;乐观锁&quot;)</span><br>    <span class="hljs-keyword">private</span> Long version;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;课程状态 Draft未发布  Normal已发布&quot;)</span><br>    <span class="hljs-keyword">private</span> String status;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;逻辑删除 1（true）已删除， 0（false）未删除&quot;)</span><br>    <span class="hljs-keyword">private</span> Integer isDeleted;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;创建时间&quot;)</span><br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT)</span><br>    <span class="hljs-keyword">private</span> Date gmtCreate;<br><br>    <span class="hljs-meta">@ApiModelProperty(value = &quot;更新时间&quot;)</span><br>    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span><br>    <span class="hljs-keyword">private</span> Date gmtModified;<br><br><br>&#125;<br><br></code></pre></td></tr></table></figure>

<p>2、修改CourseDescription主键生成策略</p>
<p> @TableId(value &#x3D; “id”, type &#x3D; IdType.ID_WORKER_STR)</p>
<p>3、定义常量</p>
<p>4、定义控制层接口</p>
<p>5、定义业务层方法</p>
<p>6、Swagger测试</p>
<h3 id="二、前端实现"><a href="#二、前端实现" class="headerlink" title="二、前端实现"></a>二、前端实现</h3><p>1、定义api</p>
<p>2、组件模板</p>
<p>3、组件js</p>
<h2 id="3、课程分类多级联动的实现"><a href="#3、课程分类多级联动的实现" class="headerlink" title="3、课程分类多级联动的实现"></a>3、课程分类多级联动的实现</h2><h3 id="一、需求-1"><a href="#一、需求-1" class="headerlink" title="一、需求"></a>一、需求</h3><h3 id="二、获取一级分类"><a href="#二、获取一级分类" class="headerlink" title="二、获取一级分类"></a>二、获取一级分类</h3><p>1、组件数据定义</p>
<p>定义在data中</p>
<p>2、组件模板</p>
<p>3、组件脚本</p>
<h3 id="三、级联显示二级分类"><a href="#三、级联显示二级分类" class="headerlink" title="三、级联显示二级分类"></a>三、级联显示二级分类</h3><p>1、组件模板</p>
<p>2、注册change事件</p>
<p>在一级分类的<el-select>组件中注册change事件</p>
<p>3、定义change事件方法</p>
<h2 id="4、讲师下拉列表"><a href="#4、讲师下拉列表" class="headerlink" title="4、讲师下拉列表"></a>4、讲师下拉列表</h2><h3 id="一、前端实现-1"><a href="#一、前端实现-1" class="headerlink" title="一、前端实现"></a>一、前端实现</h3><p>1、组件模板</p>
<p>2、定义api</p>
<p>api&#x2F;edu&#x2F;teacher.js</p>
<p>组件中引入teacher api</p>
<p>3、组件脚本</p>
<p>定义data</p>
<p>表单初始化时获取讲师列表</p>
<h2 id="5、富文本编辑器Tinymce"><a href="#5、富文本编辑器Tinymce" class="headerlink" title="5、富文本编辑器Tinymce"></a>5、富文本编辑器Tinymce</h2><h3 id="一、Tinymce可视化编辑器"><a href="#一、Tinymce可视化编辑器" class="headerlink" title="一、Tinymce可视化编辑器"></a>一、Tinymce可视化编辑器</h3><p>参考</p>
<p><a target="_blank" rel="noopener" href="https://panjiachen.gitee.io/vue-element-admin/#/components/tinymce">https://panjiachen.gitee.io/vue-element-admin/#/components/tinymce</a></p>
<p><a target="_blank" rel="noopener" href="https://panjiachen.gitee.io/vue-element-admin/#/example/create">https://panjiachen.gitee.io/vue-element-admin/#/example/create</a></p>
<h3 id="二、组件初始化"><a href="#二、组件初始化" class="headerlink" title="二、组件初始化"></a>二、组件初始化</h3><p>Tinymce是一个传统javascript插件，默认不能用于Vue.js因此需要做一些特殊的整合步骤</p>
<p>1、复制脚本库</p>
<p>将脚本库复制到项目的static目录下（在vue-element-admin-master的static路径下）</p>
<p>2、配置html变量</p>
<p>在 edu-admin&#x2F;build&#x2F;webpack.dev.conf.js 中添加配置</p>
<p>使在html页面中可是使用这里定义的BASE_URL变量</p>
<p>3、引入js脚本</p>
<p>在edu-admin&#x2F;index.html 中引入js脚本</p>
<script src=<%= BASE_URL %>/tinymce4.7.5/tinymce.min.js></script>

<script src=<%= BASE_URL %>/tinymce4.7.5/langs/zh_CN.js></script>



<h3 id="三、组件引入"><a href="#三、组件引入" class="headerlink" title="三、组件引入"></a>三、组件引入</h3><p>为了让Tinymce能用于Vue.js项目，vue-element-admin-master对Tinymce进行了封装，下面我们将它引入到我们的课程信息页面</p>
<p>1、复制组件</p>
<p>src&#x2F;components&#x2F;Tinymce</p>
<p>2、引入组件</p>
<p>课程信息组件中引入 Tinymce</p>
<p>import Tinymce from ‘@&#x2F;components&#x2F;Tinymce’</p>
<p>export default {</p>
<p>  components: { Tinymce },</p>
<p>  ……</p>
<p>}</p>
<p>3、组件模板</p>
<!-- 课程简介-->

<el-form-item label="课程简介">

<pre><code class="hljs">&lt;tinymce :height=&quot;300&quot; v-model=&quot;courseInfo.description&quot;/&gt;
</code></pre>
</el-form-item>

<p>4、组件样式</p>
<p>在info.vue文件的最后添加如下代码，调整上传图片按钮的高度</p>
<style scoped>

.tinymce-container {

  line-height: 29px;

}

</style>

<p>5、图片的base64编码</p>
<p>Tinymce中的图片上传功能直接存储的是图片的base64编码，因此无需图片服务器</p>
<h2 id="6、课程封面"><a href="#6、课程封面" class="headerlink" title="6、课程封面"></a>6、课程封面</h2><h3 id="一、整合上传组件"><a href="#一、整合上传组件" class="headerlink" title="一、整合上传组件"></a>一、整合上传组件</h3><p>参考 <a target="_blank" rel="noopener" href="http://element-cn.eleme.io/#/zh-CN/component/upload">http://element-cn.eleme.io/#/zh-CN/component/upload</a> 用户头像上传</p>
<p>1、上传默认封面</p>
<p>创建文件夹cover，上传默认的课程封面</p>
<p>2、定义默认封面</p>
<p>3、定义data数据</p>
<p>BASE_API: process.env.BASE_API &#x2F;&#x2F; 接口API地址</p>
<p>4、组件模板</p>
<p>在info.vue中添加上传组件模板</p>
<p>5、结果回调</p>
<h3 id="二、修改后端api"><a href="#二、修改后端api" class="headerlink" title="二、修改后端api"></a>二、修改后端api</h3><p>1、修改上传controller</p>
<p>添加host可选参数</p>
<p>2、综合测试</p>
<h2 id="7、课程信息回显"><a href="#7、课程信息回显" class="headerlink" title="7、课程信息回显"></a>7、课程信息回显</h2><h3 id="一、后端实现"><a href="#一、后端实现" class="headerlink" title="一、后端实现"></a>一、后端实现</h3><p>1、业务层</p>
<p>接口：CourseService.java</p>
<p>CourseInfoForm getCourseInfoFormById(String id);</p>
<p>实现：CourseServiceImpl.java</p>
<p>2、web层</p>
<p>3、Swagger中测试</p>
<h3 id="二、前端实现-1"><a href="#二、前端实现-1" class="headerlink" title="二、前端实现"></a>二、前端实现</h3><p>1、定义api</p>
<p>api&#x2F;edu&#x2F;course.js</p>
<p>2、组件js</p>
<h3 id="三、解决级联下拉菜单回显问题"><a href="#三、解决级联下拉菜单回显问题" class="headerlink" title="三、解决级联下拉菜单回显问题"></a>三、解决级联下拉菜单回显问题</h3><p>1、数据库中增加冗余列</p>
<p>2、pojo中增加属性</p>
<p>entity.Course.java</p>
<p>form.CourseInfo.java</p>
<p>3、vue组件中绑定数据</p>
<p>edu&#x2F;course&#x2F;infoinfo.vue</p>
<p>4、修改init方法</p>
<p>5、修改fetchCourseInfoById方法</p>
<h2 id="8、更新课程信息"><a href="#8、更新课程信息" class="headerlink" title="8、更新课程信息"></a>8、更新课程信息</h2><h3 id="一、后端实现-1"><a href="#一、后端实现-1" class="headerlink" title="一、后端实现"></a>一、后端实现</h3><p>1、业务层</p>
<p>接口：CourseService.java</p>
<p>实现：CourseServiceImpl.java</p>
<p>2、web层</p>
<h3 id="二、前端实现-2"><a href="#二、前端实现-2" class="headerlink" title="二、前端实现"></a>二、前端实现</h3><p>1、定义api</p>
<p>course.js</p>
<p>2、组件js</p>
<p>info.vue</p>
<h1 id="day08"><a href="#day08" class="headerlink" title="day08"></a>day08</h1><h2 id="1、课程大纲列表显示"><a href="#1、课程大纲列表显示" class="headerlink" title="1、课程大纲列表显示"></a>1、课程大纲列表显示</h2><h3 id="一、后端实现-2"><a href="#一、后端实现-2" class="headerlink" title="一、后端实现"></a>一、后端实现</h3><p>1、定义vo</p>
<p>ChapterVo</p>
<p>2、服务层</p>
<p>3、web层</p>
<h3 id="二、前端实现-3"><a href="#二、前端实现-3" class="headerlink" title="二、前端实现"></a>二、前端实现</h3><p>1、定义api</p>
<p>2、定义组件脚本</p>
<p>3、定义组件模板</p>
<p>4、定义样式</p>
<h2 id="2、章节管理后端接口开发"><a href="#2、章节管理后端接口开发" class="headerlink" title="2、章节管理后端接口开发"></a>2、章节管理后端接口开发</h2><h3 id="一、新增章节"><a href="#一、新增章节" class="headerlink" title="一、新增章节"></a>一、新增章节</h3><p>web层</p>
<h3 id="二、根据id查询"><a href="#二、根据id查询" class="headerlink" title="二、根据id查询"></a>二、根据id查询</h3><p>web层</p>
<h3 id="三、更新"><a href="#三、更新" class="headerlink" title="三、更新"></a>三、更新</h3><p>web层</p>
<h3 id="四、删除"><a href="#四、删除" class="headerlink" title="四、删除"></a>四、删除</h3><p>1、web层</p>
<p>2、Service</p>
<h2 id="3、章节管理前端页面实现"><a href="#3、章节管理前端页面实现" class="headerlink" title="3、章节管理前端页面实现"></a>3、章节管理前端页面实现</h2><h3 id="一、定义api"><a href="#一、定义api" class="headerlink" title="一、定义api"></a>一、定义api</h3><h3 id="二、新增章节页面功能"><a href="#二、新增章节页面功能" class="headerlink" title="二、新增章节页面功能"></a>二、新增章节页面功能</h3><p>1、定义data数据</p>
<p>2、添加章节按钮</p>
<p>3、章节表单dialog</p>
<p>4、添加章节methods</p>
<h3 id="三、修改章节信息"><a href="#三、修改章节信息" class="headerlink" title="三、修改章节信息"></a>三、修改章节信息</h3><p>1、编辑章节按钮</p>
<p>2、定义编辑方法</p>
<p>3、定义更新方法</p>
<h3 id="四、删除章节"><a href="#四、删除章节" class="headerlink" title="四、删除章节"></a>四、删除章节</h3><p>1、按钮</p>
<p>2、定义删除方法</p>
<h2 id="1、课时管理后端开发"><a href="#1、课时管理后端开发" class="headerlink" title="1、课时管理后端开发"></a>1、课时管理后端开发</h2><h2 id="2、课时管理前端开发"><a href="#2、课时管理前端开发" class="headerlink" title="2、课时管理前端开发"></a>2、课时管理前端开发</h2><h2 id="1、课程最终发布前端"><a href="#1、课程最终发布前端" class="headerlink" title="1、课程最终发布前端"></a>1、课程最终发布前端</h2><h2 id="2、课程最终发布后端"><a href="#2、课程最终发布后端" class="headerlink" title="2、课程最终发布后端"></a>2、课程最终发布后端</h2><h1 id="day09"><a href="#day09" class="headerlink" title="day09"></a>day09</h1><h2 id="1、课程列表和课程删除"><a href="#1、课程列表和课程删除" class="headerlink" title="1、课程列表和课程删除"></a>1、课程列表和课程删除</h2><h3 id="一、后端实现-3"><a href="#一、后端实现-3" class="headerlink" title="一、后端实现"></a>一、后端实现</h3><p>1、定义搜索对象</p>
<p>CourseQuery</p>
<p>2、定义service方法</p>
<p>3、定义web层方法</p>
<h3 id="二、前端分页查询列表"><a href="#二、前端分页查询列表" class="headerlink" title="二、前端分页查询列表"></a>二、前端分页查询列表</h3><p>1、定义api</p>
<p>course.js</p>
<p>2、组件中的js</p>
<p>src&#x2F;views&#x2F;edu&#x2F;list.vue</p>
<p>3、组件模板</p>
<p>4、css的定义</p>
<h3 id="三、后端实现"><a href="#三、后端实现" class="headerlink" title="三、后端实现"></a>三、后端实现</h3><p>1、web层</p>
<p>定义删除api方法：CourseController.java</p>
<p>2、service层</p>
<p>如果用户确定删除，则首先删除video记录，然后删除chapter记录，最后删除Course记录</p>
<p>2.1、在VideoService中定义根据courseId删除video业务方法</p>
<p>2.2、在ChapterService中定义根据courseId删除chapter业务方法</p>
<p>2.3、删除当前course记录</p>
<h3 id="四、前端实现"><a href="#四、前端实现" class="headerlink" title="四、前端实现"></a>四、前端实现</h3><p>1、定义api</p>
<p>course.js中添加删除方法</p>
<p>2、修改删除按钮</p>
<p>3、编写删除方法</p>
<h2 id="2、阿里云视频点播"><a href="#2、阿里云视频点播" class="headerlink" title="2、阿里云视频点播"></a>2、阿里云视频点播</h2><h2 id="3、整合阿里云视频点播"><a href="#3、整合阿里云视频点播" class="headerlink" title="3、整合阿里云视频点播"></a>3、整合阿里云视频点播</h2>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Spring/" class="category-chain-item">Spring</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/SpringBoot2/" class="print-no-link">#SpringBoot2</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>SpirngBoot2</div>
      <div>https://zytpca.github.io/2023/02/21/Spring/SpringBoot2/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Insomniac</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年2月21日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/08/05/Win32_Api/%E5%85%B3%E4%BA%8EULARGE_INTEGER%E5%9C%A8%E8%AE%A1%E7%AE%97%E7%A3%81%E7%9B%98%E5%AE%B9%E9%87%8F%E6%97%B6%E5%80%99%E7%9A%84%E8%BF%90%E7%AE%97/" title="关于ULARGE_INTEGER在计算磁盘容量时候的运算">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">关于ULARGE_INTEGER在计算磁盘容量时候的运算</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/29/Spring/SpringMVC%E7%AC%94%E8%AE%B0/" title="SpringMVC笔记">
                        <span class="hidden-mobile">SpringMVC笔记</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"ZDiOGqAWSCAU9bUYDktIk21c-gzGzoHsz","appKey":"JShbv4TgfpvIvvrRl7GFc57n","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://zdiogqaw.lc-cn-n1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
